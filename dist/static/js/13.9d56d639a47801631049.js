webpackJsonp([13],{C5eM:function(t,e){},WOsR:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("mvHQ"),i=a.n(s),n={name:"TaskTab",props:{tabData:null,tabHeader:null,tabHeight:null},data:function(){return{tabDialog:!1,sceneNameList:[],editTaskDetail:{id:"",job_name:"",project_id:"",business_id:"",scene_type:"",scene_list:"",job_schedule:"",job_method:""},editDialogVisible:!1,editProjectList:[],editBusinessList:[],editExecuteFunc:[],editSceneTypeList:[],editSceneList:[],loading:!1}},methods:{idsClick:function(t){var e=this;this.tabDialog=!0;var a={ids:t},s=String.format("{0}/jobInterface/sceneNameList",this.GLOBAL.MONITOR_URL);this.axios.post(s,i()(a),{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(t){return e.sceneNameList=t.data.data.scene_list,t}).catch(function(t){return t})},changeBusinessId:function(){this.editTaskDetail.scene_list=[],this.editTaskDetail.scene_type="",this.editSceneList=[]},changeSceneType:function(){var t=this;if(this.editTaskDetail.scene_list=[],""!==this.editTaskDetail.project_id&&""!==this.editTaskDetail.business_id&&""!==this.editTaskDetail.scene_type){var e=String.format("{0}/jobInterface/querySceneByConditions",this.GLOBAL.MONITOR_URL),a={project_id:this.editTaskDetail.project_id,business_id:this.editTaskDetail.business_id,scene_type:this.editTaskDetail.scene_type};this.axios.post(e,i()(a),{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(e){t.editSceneList=e.data.sceneList}).catch(function(t){return t})}},checkParentForEdit:function(t){"scene"===t?""!==this.editTaskDetail.project_id&&""!==this.editTaskDetail.business_id&&""!==this.editTaskDetail.scene_type||this.$message({type:"error",message:"请先选择所属项目、所属业务、场景类型!"}):"business"===t&&""===this.editTaskDetail.project_id&&this.$message({type:"error",message:"请先选择所属项目!"})},getConditionsForEdit:function(){var t=this;this.editTaskDetail.business_id="",this.editTaskDetail.scene_list=[],this.editTaskDetail.scene_type="",this.editSceneTypeList=[],this.editSceneList=[];var e=String.format("{0}/jobInterface/taskConditions?project_id={1}",this.GLOBAL.MONITOR_URL,this.editTaskDetail.project_id);this.axios.get(e).then(function(e){return t.editProjectList=e.data.data.projectList,t.editExecuteFunc=e.data.data.executeFunc,t.editBusinessList=e.data.data.businessList,t.editSceneTypeList=e.data.data.sceneTypeList,e}).catch(function(t){return t})},tableRowClassName:function(t){t.row;return t.rowIndex%2==0?"warning-row":"success-row"},getJobDetail:function(t){var e=this;this.editDialogVisible=!0;var a=String.format("{0}/jobInterface/taskInfo?id={1}",this.GLOBAL.MONITOR_URL,t);this.axios.get(a).then(function(t){return e.editSceneList=t.data.conditions.sceneList,e.editProjectList=t.data.conditions.projectList,e.editBusinessList=t.data.conditions.businessList,e.editSceneTypeList=t.data.conditions.sceneTypeList,e.editExecuteFunc=t.data.conditions.executeFunc,e.editTaskDetail=t.data.job_info,t}).catch(function(t){return t})},editTask:function(){var t=this;if(this.isEmpty(this.editTaskDetail.id)||this.isEmpty(this.editTaskDetail.job_name)||this.isEmpty(this.editTaskDetail.job_method)||this.isEmpty(this.editTaskDetail.job_schedule)||this.isEmpty(this.editTaskDetail.scene_list.join(",")))this.Message.error("警告:请填写必填项！");else{var e={id:this.editTaskDetail.id,job_name:this.editTaskDetail.job_name,job_method:this.editTaskDetail.job_method,job_des:this.editTaskDetail.job_des,job_schedule:this.editTaskDetail.job_schedule,job_type:this.editTaskDetail.job_type,param:this.editTaskDetail.scene_list.join(",")},a=String.format("{0}/jobInterface/updateTask",this.GLOBAL.MONITOR_URL);this.axios.post(a,i()(e),{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(e){return"200"===e.data.code?(t.$emit("search"),t.Message.success("修改成功！"),t.editDialogVisible=!1):(t.Message.error("修改失败！"),t.editDialogVisible=!1,t.$emit("search")),e}).catch(function(t){return t})}},removeTask:function(t){var e=this;this.$confirm("此操作将永久删除该任务, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a=String.format("{0}/jobInterface/removeTask",e.GLOBAL.MONITOR_URL),s={id:t.toString()};e.axios.post(a,i()(s),{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(t){return"200"===t.data.code?(e.Message.success("删除成功！"),e.$emit("search")):(e.Message.error("删除失败！"),e.$emit("search")),t}).catch(function(t){return t})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},executeJob:function(t){var e=this;this.loading=!0;var a=String.format("{0}/jobInterface/executeTask",this.GLOBAL.MONITOR_URL),s={param:t.toString()};this.axios.post(a,i()(s),{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(t){var a=t.data.code;return e.loading=!1,"200"===a?(e.$emit("search"),e.Message.success("执行成功！")):(e.$emit("search"),e.Message.error("执行失败！")),t}).catch(function(t){return t})},resumeTask:function(t){var e=this,a=String.format("{0}/jobInterface/resumeTask",this.GLOBAL.MONITOR_URL),s={id:t.toString()};this.axios.post(a,i()(s),{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(t){return"200"===t.data.code?(e.Message.success("启用成功！"),e.$emit("search")):(e.Message.error("启用失败！"),e.$emit("search")),t}).catch(function(t){return t})},pauseJob:function(t){var e=this,a=String.format("{0}/jobInterface/pauseTask",this.GLOBAL.MONITOR_URL),s={id:t.toString()};this.axios.post(a,i()(s),{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(t){return"200"===t.data.code?(e.Message.success("暂停成功！"),e.$emit("search")):(e.Message.error("暂停失败！"),e.$emit("search")),t}).catch(function(t){return t})},isEmpty:function(t){return void 0===t||""===t}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%","margin-top":"-10px"},attrs:{"element-loading-text":"拼命执行中,请稍等~~~","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",data:t.tabData,border:"",size:"mini","row-class-name":t.tableRowClassName}},[t._l(t.tabHeader,function(e,s){return["args"===e.prop?a("el-table-column",{key:s,attrs:{prop:e.prop,label:e.label,width:"250px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.args.split(",").length>5?e.row.args.slice(0,12)+"...":e.row.args)),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.idsClick(e.row.args)}}},[t._v("查 看")])],1)]}}],null,!0)}):"id"===e.prop?a("el-table-column",{key:s,attrs:{prop:e.prop,label:e.label,width:"250px",align:"center",fixed:"left"}}):"status"===e.prop?a("el-table-column",{key:s,attrs:{label:e.label,align:"center","show-overflow-tooltip":"",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(1===e.row.status?"运行中":"已停用"))])]}}],null,!0)}):"action"===e.type&&"action"===e.prop?a("el-table-column",{key:s,attrs:{label:e.label,align:"center","show-overflow-tooltip":"",width:"200px",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.executeJob(t.tabData[e.$index].args)}}},[t._v("执行\n          ")]),t._v(" "),1===t.tabData[e.$index].status?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.pauseJob(t.tabData[e.$index].id)}}},[t._v("停用\n          ")]):t._e(),t._v(" "),0===t.tabData[e.$index].status?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.resumeTask(t.tabData[e.$index].id)}}},[t._v("启用\n          ")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.getJobDetail(t.tabData[e.$index].id)}}},[t._v("编辑\n          ")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.removeTask(t.tabData[e.$index].id)}}},[t._v("删除\n          ")])]}}],null,!0)}):a("el-table-column",{key:s,attrs:{prop:e.prop,label:e.label,align:"center","show-overflow-tooltip":"",width:"250px"}})]})],2),t._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:t.editDialogVisible,width:"80%"},on:{"update:visible":function(e){t.editDialogVisible=e}}},[a("div",[a("el-card",{staticClass:"box-card"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("span",[t._v("任务名称: "),a("span",{staticStyle:{color:"red"}},[t._v("*")])])]),t._v(" "),a("el-col",{attrs:{span:8,pull:2}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"必填项:请输入内容",clearable:"",required:"true",disabled:""},model:{value:t.editTaskDetail.id,callback:function(e){t.$set(t.editTaskDetail,"id",e)},expression:"editTaskDetail['id']"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",[t._v("任务描述: "),a("span",{staticStyle:{color:"red"}},[t._v("*")])])]),t._v(" "),a("el-col",{attrs:{span:8,pull:2}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"必填项:请输入内容",clearable:"",required:"true",type:"textarea",rows:3},model:{value:t.editTaskDetail.job_name,callback:function(e){t.$set(t.editTaskDetail,"job_name",e)},expression:"editTaskDetail['job_name']"}})],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("span",[t._v("所属项目: ")])]),t._v(" "),a("el-col",{attrs:{span:8,pull:2}},[a("el-select",{staticClass:"taskDetail",staticStyle:{width:"400px"},attrs:{placeholder:"必填项:请选择",clearable:"",required:"true"},on:{change:t.getConditionsForEdit},model:{value:t.editTaskDetail.project_id,callback:function(e){t.$set(t.editTaskDetail,"project_id",e)},expression:"editTaskDetail['project_id']"}},t._l(t.editProjectList,function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",[t._v("所属业务: ")])]),t._v(" "),a("el-col",{attrs:{span:8,pull:2}},[a("el-select",{staticClass:"taskDetail",staticStyle:{width:"400px"},attrs:{placeholder:"必填项:请选择",clearable:"",required:"true"},on:{focus:function(e){return t.checkParentForEdit("business")},change:t.changeBusinessId},model:{value:t.editTaskDetail.business_id,callback:function(e){t.$set(t.editTaskDetail,"business_id",e)},expression:"editTaskDetail['business_id']"}},t._l(t.editBusinessList,function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("span",[t._v("场景类型: ")])]),t._v(" "),a("el-col",{attrs:{span:8,pull:2}},[a("el-select",{staticClass:"taskDetail",staticStyle:{width:"400px"},attrs:{placeholder:"必填项:请选择",clearable:"",required:"true"},on:{change:t.changeSceneType,focus:function(e){return t.checkParentForEdit("scene_type")}},model:{value:t.editTaskDetail.scene_type,callback:function(e){t.$set(t.editTaskDetail,"scene_type",e)},expression:"editTaskDetail['scene_type']"}},t._l(t.editSceneTypeList,function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",[t._v("场景集:"),a("span",{staticStyle:{color:"red"}},[t._v("*")])])]),t._v(" "),a("el-col",{attrs:{span:8,pull:2}},[a("el-select",{staticClass:"taskDetail",staticStyle:{width:"400px"},attrs:{placeholder:"必填项:请选择",multiple:"","collapse-tags":"",clearable:"",required:"true",filterable:""},on:{focus:function(e){return t.checkParentForEdit("scene")}},model:{value:t.editTaskDetail.scene_list,callback:function(e){t.$set(t.editTaskDetail,"scene_list",e)},expression:"editTaskDetail['scene_list']"}},t._l(t.editSceneList,function(t){return a("el-option",{key:t.id,attrs:{label:"【"+t.id+"】"+t.scene_name,value:t.id}})}),1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("span",[t._v("执行计划:"),a("span",{staticStyle:{color:"red"}},[t._v("*")])])]),t._v(" "),a("el-col",{attrs:{span:8,pull:2}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"必填项:cron表达式；【例:*/1 * * * *】",clearable:"",required:"true"},model:{value:t.editTaskDetail.job_schedule,callback:function(e){t.$set(t.editTaskDetail,"job_schedule",e)},expression:"editTaskDetail['job_schedule']"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",[t._v("调用方法: "),a("span",{staticStyle:{color:"red"}},[t._v("*")])])]),t._v(" "),a("el-col",{attrs:{span:8,pull:2}},[a("el-select",{staticClass:"taskDetail",staticStyle:{width:"400px"},attrs:{placeholder:"必填项:请选择",clearable:"",required:"true",filterable:""},model:{value:t.editTaskDetail.job_method,callback:function(e){t.$set(t.editTaskDetail,"job_method",e)},expression:"editTaskDetail['job_method']"}},t._l(t.editExecuteFunc,function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.value}})}),1)],1)],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editDialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editTask}},[t._v("保 存")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"场景列表",visible:t.tabDialog},on:{"update:visible":function(e){t.tabDialog=e}}},[a("el-table",{attrs:{data:t.sceneNameList,border:"",size:"mini","max-height":"350px","row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{property:"id",label:"场景id",width:"100px",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",align:"center",label:"场景名称"}}),t._v(" "),a("el-table-column",{attrs:{property:"status",label:"状态",width:"100px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.status?a("el-button",{attrs:{type:"danger",disabled:"",icon:"el-icon-close",circle:"",size:"mini"}}):1===e.row.status?a("el-button",{attrs:{type:"success",icon:"el-icon-check",circle:"",disabled:"",size:"mini"}}):t._e()]}}])})],1)],1)],1)},staticRenderFns:[]};var o={name:"Task",components:{taskTab:a("VU/8")(n,l,!1,function(t){a("C5eM")},"data-v-5a313fd6",null).exports},data:function(){return{addProjectList:[],addBusinessList:[],addSceneTypeList:[],addSceneList:[],addExecuteFunc:[],tableData:[],tableHeader:[],taskId:"",taskName:"",taskStatus:"",statusList:[],currentPage:1,pageSize:0,total:0,taskDetail:{id:"",job_name:"",project_id:"",business_id:"",scene_type:"",scene_list:"",job_schedule:"",job_method:""},dialogVisible:!1}},methods:{openAddDialog:function(){this.dialogVisible=!0,this.getConditionsForAdd(),this.addSceneTypeList=[]},reset:function(){this.taskId="",this.taskName="",this.taskStatus="",this.search()},clearData:function(){this.taskDetail={id:"",job_name:"",project_id:"",business_id:"",scene_type:"",scene_list:"",job_schedule:"",job_method:""},this.addProjectList=[],this.addBusinessList=[],this.addExecuteFunc=[],this.addSceneTypeList=[]},isEmpty:function(t){return""===t||void 0===t},changeBusinessId:function(){this.taskDetail.scene_list=[],this.taskDetail.scene_type="",this.addSceneList=[]},changeSceneType:function(){var t=this;if(this.taskDetail.scene_list=[],""!==this.taskDetail.project_id&&""!==this.taskDetail.business_id&&""!==this.taskDetail.scene_type){var e=String.format("{0}/jobInterface/querySceneByConditions",this.GLOBAL.MONITOR_URL),a={project_id:this.taskDetail.project_id,business_id:this.taskDetail.business_id,scene_type:this.taskDetail.scene_type};this.axios.post(e,i()(a),{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(e){t.addSceneList=e.data.sceneList}).catch(function(t){return t})}},checkParentForAdd:function(t){"scene"===t?""!==this.taskDetail.project_id&&""!==this.taskDetail.business_id&&""!==this.taskDetail.scene_type||this.$message({type:"error",message:"请先选择所属项目、所属业务、场景类型!"}):"business"===t&&""===this.taskDetail.project_id&&this.$message({type:"error",message:"请先选择所属项目!"})},getConditionsForAdd:function(){var t=this;this.taskDetail.business_id="",this.taskDetail.scene_list=[],this.taskDetail.scene_type="",this.addSceneTypeList=[],this.addSceneList=[];var e=String.format("{0}/jobInterface/taskConditions?project_id={1}",this.GLOBAL.MONITOR_URL,this.taskDetail.project_id);this.axios.get(e).then(function(e){return t.addProjectList=e.data.data.projectList,t.addExecuteFunc=e.data.data.executeFunc,t.addBusinessList=e.data.data.businessList,t.addSceneTypeList=e.data.data.sceneTypeList,e}).catch(function(t){return t})},getConditions:function(){var t=this,e=String.format("{0}/jobInterface/taskConditions?project_id={1}",this.GLOBAL.MONITOR_URL,"");this.axios.get(e).then(function(e){return t.statusList=e.data.data.statusList,e}).catch(function(t){return t})},addTask:function(){var t=this;if(this.isEmpty(this.taskDetail.id)||this.isEmpty(this.taskDetail.job_name)||this.isEmpty(this.taskDetail.job_method)||this.isEmpty(this.taskDetail.job_schedule)||this.isEmpty(this.taskDetail.scene_list.join(",")))this.Message.error("警告:请填写必填项！");else{var e=String.format("{0}/jobInterface/addTask",this.GLOBAL.MONITOR_URL);this.taskDetail.param=this.taskDetail.scene_list.join(","),this.axios.post(e,i()(this.taskDetail),{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(e){return"200"===e.data.code?(t.Message.success(e.data.msg),t.dialogVisible=!1,t.getTaskList()):(t.Message.error(e.data.msg),t.getTaskList()),e}).catch(function(t){return t})}},search:function(){this.getConditions(),this.currentPage=1,this.getTaskList()},getTaskList:function(){var t=this,e=String.format("{0}/jobInterface/taskList",this.GLOBAL.MONITOR_URL),a={id:this.taskId,job_name:this.taskName,status:this.taskStatus,page_index:this.currentPage};this.axios.post(e,i()(a),{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(e){t.total=e.data.total,t.pageSize=e.data.pageSize;var a=e.data.jobInfo;return t.tableHeader=a.tableHeader,t.tableData=a.tableData,e}).catch(function(t){return t})}},beforeMount:function(){this.getConditions(),this.getTaskList()}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card"},[a("div",[a("el-row",{staticClass:"conditionBar",staticStyle:{"margin-top":"-10px"},attrs:{gutter:40}},[a("el-col",{attrs:{span:5}},[a("span",[t._v("任务名称: ")]),t._v(" "),a("el-input",{attrs:{placeholder:"输入任务名称",clearable:"",size:"mini"},model:{value:t.taskId,callback:function(e){t.taskId=e},expression:"taskId"}})],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",[t._v("任务描述: ")]),t._v(" "),a("el-input",{attrs:{placeholder:"输入任务描述",clearable:"",size:"mini"},model:{value:t.taskName,callback:function(e){t.taskName=e},expression:"taskName"}})],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("span",[t._v("状   态: ")]),t._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择",clearable:"",size:"mini"},model:{value:t.taskStatus,callback:function(e){t.taskStatus=e},expression:"taskStatus"}},t._l(t.statusList,function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:t.search}},[t._v("查询\n          ")]),t._v(" "),a("el-button",{attrs:{type:"success",round:"",size:"mini"},on:{click:t.openAddDialog}},[t._v("新增\n          ")]),t._v(" "),a("el-button",{attrs:{type:"info",round:"",size:"mini"},on:{click:t.reset}},[t._v("重置\n          ")])],1)])],1),t._v(" "),a("div",[a("taskTab",{attrs:{tabData:t.tableData,tabHeader:t.tableHeader},on:{search:t.search}})],1),t._v(" "),a("el-dialog",{attrs:{title:"新增",visible:t.dialogVisible,width:"80%"},on:{"update:visible":function(e){t.dialogVisible=e},close:t.clearData}},[a("div",[a("el-card",{staticClass:"box-card"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("span",[t._v("任务名称: "),a("span",{staticStyle:{color:"red"}},[t._v("*")])])]),t._v(" "),a("el-col",{attrs:{span:8,pull:2}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"必填项:请输入内容",clearable:"",required:"true"},model:{value:t.taskDetail.id,callback:function(e){t.$set(t.taskDetail,"id",e)},expression:"taskDetail['id']"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",[t._v("任务描述: "),a("span",{staticStyle:{color:"red"}},[t._v("*")])])]),t._v(" "),a("el-col",{attrs:{span:8,pull:2}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"必填项:请输入内容",clearable:"",required:"true",type:"textarea",rows:3},model:{value:t.taskDetail.job_name,callback:function(e){t.$set(t.taskDetail,"job_name",e)},expression:"taskDetail['job_name']"}})],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("span",[t._v("所属项目: ")])]),t._v(" "),a("el-col",{attrs:{span:8,pull:2}},[a("el-select",{staticClass:"taskDetail",staticStyle:{width:"400px"},attrs:{placeholder:"必填项:请选择",clearable:"",required:"true"},on:{change:t.getConditionsForAdd},model:{value:t.taskDetail.project_id,callback:function(e){t.$set(t.taskDetail,"project_id",e)},expression:"taskDetail['project_id']"}},t._l(t.addProjectList,function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",[t._v("所属业务: ")])]),t._v(" "),a("el-col",{attrs:{span:8,pull:2}},[a("el-select",{staticClass:"taskDetail",staticStyle:{width:"400px"},attrs:{placeholder:"必填项:请选择",clearable:"",required:"true"},on:{focus:function(e){return t.checkParentForAdd("business")},change:t.changeBusinessId},model:{value:t.taskDetail.business_id,callback:function(e){t.$set(t.taskDetail,"business_id",e)},expression:"taskDetail['business_id']"}},t._l(t.addBusinessList,function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("span",[t._v("场景类型: ")])]),t._v(" "),a("el-col",{attrs:{span:8,pull:2}},[a("el-select",{staticClass:"taskDetail",staticStyle:{width:"400px"},attrs:{placeholder:"必填项:请选择",clearable:"",required:"true"},on:{change:t.changeSceneType,focus:function(e){return t.checkParentForAdd("scene_type")}},model:{value:t.taskDetail.scene_type,callback:function(e){t.$set(t.taskDetail,"scene_type",e)},expression:"taskDetail['scene_type']"}},t._l(t.addSceneTypeList,function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",[t._v("场景集:"),a("span",{staticStyle:{color:"red"}},[t._v("*")])])]),t._v(" "),a("el-col",{attrs:{span:8,pull:2}},[a("el-select",{staticClass:"taskDetail",staticStyle:{width:"400px"},attrs:{placeholder:"必填项:请选择",multiple:"","collapse-tags":"",clearable:"",required:"true",filterable:""},on:{focus:function(e){return t.checkParentForAdd("scene")}},model:{value:t.taskDetail.scene_list,callback:function(e){t.$set(t.taskDetail,"scene_list",e)},expression:"taskDetail['scene_list']"}},t._l(t.addSceneList,function(t){return a("el-option",{key:t.id,attrs:{label:"【"+t.id+"】"+t.scene_name,value:t.id}})}),1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("span",[t._v("执行计划:"),a("span",{staticStyle:{color:"red"}},[t._v("*")])])]),t._v(" "),a("el-col",{attrs:{span:8,pull:2}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"必填项:cron表达式；【例:*/1 * * * *】",clearable:"",required:"true"},model:{value:t.taskDetail.job_schedule,callback:function(e){t.$set(t.taskDetail,"job_schedule",e)},expression:"taskDetail['job_schedule']"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",[t._v("调用方法: "),a("span",{staticStyle:{color:"red"}},[t._v("*")])])]),t._v(" "),a("el-col",{attrs:{span:8,pull:2}},[a("el-select",{staticClass:"taskDetail",staticStyle:{width:"400px"},attrs:{placeholder:"必填项:请选择",clearable:"",required:"true",filterable:""},model:{value:t.taskDetail.job_method,callback:function(e){t.$set(t.taskDetail,"job_method",e)},expression:"taskDetail['job_method']"}},t._l(t.addExecuteFunc,function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.value}})}),1)],1)],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addTask}},[t._v("保 存")])],1)]),t._v(" "),a("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"total,slot, prev, pager, next, jumper",total:t.total,size:"mini"},on:{"current-change":t.getTaskList,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}},[a("span",[t._v(t._s(t.pageSize)+"条/页")])])],1)])},staticRenderFns:[]};var c=a("VU/8")(o,r,!1,function(t){a("XhRQ")},"data-v-33afa786",null);e.default=c.exports},XhRQ:function(t,e){}});
//# sourceMappingURL=13.9d56d639a47801631049.js.map