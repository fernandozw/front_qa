{"version":3,"sources":["webpack:///src/components/ETLTemplate/ETLSceneDialog.vue","webpack:///./src/components/ETLTemplate/ETLSceneDialog.vue?039c","webpack:///./src/components/ETLTemplate/ETLSceneDialog.vue","webpack:///src/components/rootPageTemplate/ETLSceneList.vue","webpack:///./src/components/rootPageTemplate/ETLSceneList.vue?bc9e","webpack:///./src/components/rootPageTemplate/ETLSceneList.vue"],"names":["ETLSceneDialog","Number","Boolean","label","value","valueMap","this","getNowTime","trinoMap","getCurrentDate","sqlList","Date","getFullYear","date","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","month","_this","format","GLOBAL","ETL_URL","sceneId","axios","get","url","then","response","data","tmpResponse","catch","_this2","_this3","configDetail","replace","split","parse","executeConfig","expectValueList","waitTime","post","message","_this4","type","String","saveDetail","getAllCase","visible","detail","addConfigDetail","ETLTemplate_ETLSceneDialog","render","_vm","_h","$createElement","_c","_self","attrs","title","dialogTitle","dialogVisible","width","on","update:visible","$event","close","staticClass","ref","inline","model","size","rules","configRules","gutter","prop","span","autosize","minRows","maxRows","placeholder","clearable","callback","$$v","$set","expression","_v","staticStyle","margin-left","multiple","collapse-tags","filterable","_l","item","key","id","caseType","caseName","index","_e","slot","click","executeScene","saveScene","staticRenderFns","ETLSceneList","__webpack_require__","normalizeComponent","ssrContext","_ref","row","sceneIdList","scene","pageNum","searchForm","total","apiEtlSceneList","$confirm","param","getSceneList","rootPageTemplate_ETLSceneList","directives","name","rawName","margin-top","shadow","element-loading-text","element-loading-spinner","element-loading-background","align","start-placeholder","end-placeholder","default-time","value-format","float","margin-right","clickAddBtn","batchExecuteDialog","reSet","tableData","border","show-overflow-tooltip","fixed","scopedSlots","_u","fn","scope","$index","sceneType","customCheck","sceneDetail","deleteScene","current-page","page-size","pageSize","layout","current-change","update:currentPage","update:current-page","_s","scene-id","dialogVisibleType","listenToChildEvent","callbackFunc","closeBatchExecuteDialog","sceneName","ETLSceneList_Component","ETLSceneList_normalizeComponent","__webpack_exports__"],"mappings":"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,EACAE,QACA,qHACA,0BACA,eACA,gBACA,aACA,aACA,iCAEA,2BAEA,YACA,eACA,uCACAL,SACA,8FACA,iBACA,QACAG,SACA,mGACA,YACA,sBACA,YACA,cACA,EACAE,QACA,oHACA,0BACA,cACA,gBACA,YACA,aACA,iCAEA,2BAEA,aACA,aACA,uCACAL,SACA,8FACA,iBACA,QACAG,SACA,mGACA,YACA,sBACA,YACA,cACA,EACAE,QACA,oHACA,0BACA,eACA,gBACA,YACA,aACA,iCAEA,2BAEA,aACA,SACA,uCACAL,SACA,8FACA,iBACA,QACAG,SACA,mGACA,YACA,sBACA,aACA,cACA,EACAE,QACA,qHACA,yCACA,6BACA,gBACA,aACA,aACA,iCAEA,2BAEA,aACA,WACA,uCACAL,SACA,8FACA,iBACA,QACAG,SACA,mGACA,YACA,sBACA,YACA,cACA,EACAE,QACA,wNACA,yCACA,iEACA,gBACA,aACA,aACA,iCAEA,2BAEA,aACA,YACA,uCACAL,SACA,8FACA,iBACA,QACAG,SACA,mGACA,YACA,sBACA,YACA,cACA,EACAE,QACA,wNACA,yCACA,eACA,gBACA,aACA,aACA,iCAEA,2BAEA,aACA,mBACA,uCACAL,SACA,8FACA,iBACA,QACAG,SACA,mGACA,YACA,sBACA,YACA,cACA,EACAE,QACA,wNACA,yCACA,eACA,gBACA,iBACA,aACA,iCAEA,2BAEA,aACA,sBACA,uCACAL,SACA,8FACA,iBACA,QACAG,SACA,mGACA,YACA,sBACA,YACA,cACA,EACAE,QACA,wNACA,yCACA,eACA,gBACA,aACA,aACA,iCAEA,2BAEA,aACA,WACA,uCACAL,SACA,8FACA,iBACA,QACAG,SACA,mGACA,YACA,sBACA,YACA,cACA,EACAE,QACA,wNACA,yCACA,eACA,gBACA,aACA,aACA,iCAIA,iEAIAqG,EAAAC,2BAEA,cAEA,4DAKA,uBAEA,yCAKA,sBAEA,aACA,aACA,OACA,WACA,cACA,WACA,cAEA,sBACA,qCAKA,6GAaA,wDAIAC,sCACA,gDAIA,IAAA5F,EAAAf,uDAMAkB,0BACA0F,2CAGAxG,QAAA2B,QAAA,KACA,IAAAC,MACA,4DAIAC,MAAAC,EAEAC,iGAMAxC,yDAIAO,wEAMAH,kEAMAqC,yBAEA,uBACAhB,MAAAiB,KAAAf,EAAAY,2BAtCA,oCAuCAX,KAAA,SAAAC,qBAGA,gDAEAc,gCAEAA,SAEAd,IACAG,MAAA,SAAAH,UAEAA,iEAMA,sCAEA,gBAEAmE,sBACA,4BAGA,IAAA/D,EAAA5B,iCAEA,uDAOAkB,sCAEA2F,aACAzF,MAAAiB,KAAAf,EAAAtB,KAAA8G,oCAJA,oCAKAvF,KAAA,SAAAC,8BAEAuF,8BACAC,gBACAxF,IACAG,MAAA,SAAAH,UAEAA,6BAIA,IAAAK,EAAA7B,UACAiH,SAAAxE,OAAAzB,OAAA,6BACA2E,GACA,wBAEA,sBACA,UAEA,YAJApE,KAAA,8DAWAL,eACAyE,KACAvE,MAAAiB,KAAAf,EAAA4F,2BAHA,oCAIA3F,KAAA,SAAAC,wDAGAc,wBACA,kCAEAA,SAEAd,IACAG,MAAA,SAAAH,UAEAA,qDAMA,sBACA,gCAIA2F,iBCt0BAC,GADiBpE,OAFjB,WAA0B,IAAAC,EAAAjD,KAAakD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,WAA+BiE,aAAaC,KAAA,UAAAC,QAAA,YAAAzH,MAAAmD,EAAA,QAAAgC,WAAA,YAA4EE,aAAeqC,aAAA,QAAoBlE,OAAQmE,OAAA,SAAAC,uBAAA,yBAAAC,0BAAA,kBAAAC,6BAAA,wBAAiKxE,EAAA,WAAgBE,OAAOW,QAAA,EAAAC,MAAAjB,EAAA6D,WAAA3C,KAAA,UAAoDf,EAAA,gBAAqBE,OAAOzD,MAAA,UAAgBuD,EAAA,YAAiB+B,aAAazB,MAAA,SAAgBJ,OAAQsB,YAAA,SAAAC,UAAA,IAAsCX,OAAQpE,MAAAmD,EAAA6D,WAAA,GAAAhC,SAAA,SAAAC,GAAmD9B,EAAA+B,KAAA/B,EAAA6D,WAAA,KAAA/B,IAAoCE,WAAA,oBAA6B,GAAAhC,EAAAiC,GAAA,KAAA9B,EAAA,gBAAqCE,OAAOzD,MAAA,UAAgBuD,EAAA,YAAiBE,OAAOsB,YAAA,SAAAC,UAAA,IAAsCX,OAAQpE,MAAAmD,EAAA6D,WAAA,UAAAhC,SAAA,SAAAC,GAA0D9B,EAAA+B,KAAA/B,EAAA6D,WAAA,YAAA/B,IAA2CE,WAAA,2BAAoC,GAAAhC,EAAAiC,GAAA,KAAA9B,EAAA,gBAAqCE,OAAOzD,MAAA,UAAgBuD,EAAA,aAAkBE,OAAOiC,WAAA,GAAAX,YAAA,MAAAC,UAAA,IAAmDX,OAAQpE,MAAAmD,EAAA6D,WAAA,UAAAhC,SAAA,SAAAC,GAA0D9B,EAAA+B,KAAA/B,EAAA6D,WAAA,YAAA/B,IAA2CE,WAAA,yBAAoChC,EAAAuC,GAAAvC,EAAA,0BAAAwC,GAA8C,OAAArC,EAAA,aAAuBsC,IAAAD,EAAA3F,MAAAwD,OAAsBzD,MAAA4F,EAAA5F,MAAAC,MAAA2F,EAAA3F,WAAyC,OAAAmD,EAAAiC,GAAA,KAAA9B,EAAA,gBAAwCE,OAAOzD,MAAA,UAAgBuD,EAAA,YAAiBE,OAAOsB,YAAA,SAAAC,UAAA,IAAsCX,OAAQpE,MAAAmD,EAAA6D,WAAA,IAAAhC,SAAA,SAAAC,GAAoD9B,EAAA+B,KAAA/B,EAAA6D,WAAA,MAAA/B,IAAqCE,WAAA,qBAA8B,GAAAhC,EAAAiC,GAAA,KAAA9B,EAAA,gBAAqCE,OAAOzD,MAAA,SAAeuD,EAAA,YAAiBE,OAAOsB,YAAA,QAAAC,UAAA,IAAqCX,OAAQpE,MAAAmD,EAAA6D,WAAA,QAAAhC,SAAA,SAAAC,GAAwD9B,EAAA+B,KAAA/B,EAAA6D,WAAA,UAAA/B,IAAyCE,WAAA,yBAAkC,GAAAhC,EAAAiC,GAAA,KAAA9B,EAAA,gBAAqCE,OAAOzD,MAAA,SAAeuD,EAAA,YAAiBE,OAAOsB,YAAA,QAAAC,UAAA,IAAqCX,OAAQpE,MAAAmD,EAAA6D,WAAA,WAAAhC,SAAA,SAAAC,GAA2D9B,EAAA+B,KAAA/B,EAAA6D,WAAA,aAAA/B,IAA4CE,WAAA,4BAAqC,GAAAhC,EAAAiC,GAAA,KAAA9B,EAAA,gBAAqCE,OAAOzD,MAAA,UAAgBuD,EAAA,kBAAuB+B,aAAazB,MAAA,SAAgBJ,OAAQd,KAAA,gBAAAqF,MAAA,QAAAC,oBAAA,OAAAC,kBAAA,OAAAC,gBAAA,uBAAAC,eAAA,uBAAwK/D,OAAQpE,MAAAmD,EAAA6D,WAAA,QAAAhC,SAAA,SAAAC,GAAwD9B,EAAA+B,KAAA/B,EAAA6D,WAAA,UAAA/B,IAAyCE,WAAA,yBAAkC,GAAAhC,EAAAiC,GAAA,KAAA9B,EAAA,gBAAqCE,OAAOzD,MAAA,UAAgBuD,EAAA,kBAAuB+B,aAAazB,MAAA,SAAgBJ,OAAQd,KAAA,gBAAAqF,MAAA,QAAAC,oBAAA,OAAAC,kBAAA,OAAAC,gBAAA,uBAAAC,eAAA,uBAAwK/D,OAAQpE,MAAAmD,EAAA6D,WAAA,WAAAhC,SAAA,SAAAC,GAA2D9B,EAAA+B,KAAA/B,EAAA6D,WAAA,aAAA/B,IAA4CE,WAAA,4BAAqC,GAAAhC,EAAAiC,GAAA,KAAA9B,EAAA,gBAAqC+B,aAAa+C,MAAA,QAAAC,eAAA,UAAuC/E,EAAA,aAAkBE,OAAOd,KAAA,WAAiBmB,IAAKsC,MAAA,SAAApC,GAAyB,OAAAZ,EAAAkE,aAAA,cAAoClE,EAAAiC,GAAA,mBAAAjC,EAAAiC,GAAA,KAAA9B,EAAA,aAAwDE,OAAOd,KAAA,WAAiBmB,IAAKsC,MAAAhD,EAAAmF,eAAyBnF,EAAAiC,GAAA,SAAAjC,EAAAiC,GAAA,KAAA9B,EAAA,aAA8CE,OAAOd,KAAA,UAAgBmB,IAAKsC,MAAA,SAAApC,GAAyBZ,EAAAoF,oBAAA,MAAgCpF,EAAAiC,GAAA,UAAAjC,EAAAiC,GAAA,KAAA9B,EAAA,aAA+CE,OAAOd,KAAA,QAAcmB,IAAKsC,MAAAhD,EAAAqF,SAAmBrF,EAAAiC,GAAA,iBAAAjC,EAAAiC,GAAA,KAAA9B,EAAA,YAAqD+B,aAAazB,MAAA,QAAeJ,OAAQ7B,KAAAwB,EAAAsF,UAAAC,OAAA,GAAArE,KAAA,OAAA0D,MAAA,YAAiEzE,EAAA,mBAAwBE,OAAOmF,wBAAA,GAAAlE,KAAA,KAAA1E,MAAA,OAAA6D,MAAA,MAAAmE,MAAA,SAAAa,MAAA,UAAqGzF,EAAAiC,GAAA,KAAA9B,EAAA,mBAAoCE,OAAOmF,wBAAA,GAAAlE,KAAA,YAAA1E,MAAA,OAAA6D,MAAA,MAAAmE,MAAA,YAA6F5E,EAAAiC,GAAA,KAAA9B,EAAA,mBAAoCE,OAAOmF,wBAAA,GAAAlE,KAAA,YAAA1E,MAAA,OAAAgI,MAAA,SAAAnE,MAAA,OAA4FiF,YAAA1F,EAAA2F,KAAsBlD,IAAA,UAAAmD,GAAA,SAAAC,GAAiC,WAAA7F,EAAAsF,UAAAO,EAAAC,QAAAC,UAAA5F,EAAA,QAAAH,EAAAiC,GAAA,YAAAjC,EAAAsF,UAAAO,EAAAC,QAAAC,UAAA5F,EAAA,QAAAH,EAAAiC,GAAA,UAAA9B,EAAA,QAAAH,EAAAiC,GAAA,eAAyLjC,EAAAiC,GAAA,KAAA9B,EAAA,mBAAoCE,OAAOuE,MAAA,SAAAY,wBAAA,GAAAlE,KAAA,SAAA1E,MAAA,MAAA6D,MAAA,SAAyFT,EAAAiC,GAAA,KAAA9B,EAAA,mBAAoCE,OAAOuE,MAAA,SAAAY,wBAAA,GAAAlE,KAAA,MAAA1E,MAAA,OAAA6D,MAAA,SAAuFT,EAAAiC,GAAA,KAAA9B,EAAA,mBAAoCE,OAAOuE,MAAA,SAAAY,wBAAA,GAAAlE,KAAA,WAAA1E,MAAA,OAAA6D,MAAA,SAA4FT,EAAAiC,GAAA,KAAA9B,EAAA,mBAAoCE,OAAOuE,MAAA,SAAAY,wBAAA,GAAAlE,KAAA,UAAA1E,MAAA,MAAA6D,MAAA,SAA0FT,EAAAiC,GAAA,KAAA9B,EAAA,mBAAoCE,OAAOuE,MAAA,SAAAY,wBAAA,GAAAlE,KAAA,aAAA1E,MAAA,MAAA6D,MAAA,SAA6FT,EAAAiC,GAAA,KAAA9B,EAAA,mBAAoCE,OAAOuE,MAAA,SAAAY,wBAAA,GAAAlE,KAAA,WAAA1E,MAAA,UAAA6D,MAAA,SAA+FT,EAAAiC,GAAA,KAAA9B,EAAA,mBAAoCE,OAAOuE,MAAA,SAAAY,wBAAA,GAAAlE,KAAA,YAAA1E,MAAA,OAAA6D,MAAA,SAA6FT,EAAAiC,GAAA,KAAA9B,EAAA,mBAAoCE,OAAOuE,MAAA,SAAAY,wBAAA,GAAAlE,KAAA,OAAA1E,MAAA,OAAA6D,MAAA,SAAwFT,EAAAiC,GAAA,KAAA9B,EAAA,mBAAoCE,OAAOuE,MAAA,SAAAY,wBAAA,GAAAlE,KAAA,WAAA1E,MAAA,OAAA6D,MAAA,SAA4FT,EAAAiC,GAAA,KAAA9B,EAAA,mBAAoCE,OAAOuE,MAAA,SAAAY,wBAAA,GAAAlE,KAAA,cAAA1E,MAAA,QAAA6D,MAAA,OAA+FiF,YAAA1F,EAAA2F,KAAsBlD,IAAA,UAAAmD,GAAA,SAAAC,GAAiC,WAAA7F,EAAAsF,UAAAO,EAAAC,QAAAE,YAAA7F,EAAA,QAAAH,EAAAiC,GAAA,YAAAjC,EAAAsF,UAAAO,EAAAC,QAAAE,YAAA7F,EAAA,QAAAH,EAAAiC,GAAA,QAAA9B,EAAA,QAAAH,EAAAiC,GAAA,eAA2LjC,EAAAiC,GAAA,KAAA9B,EAAA,mBAAoCE,OAAOuE,MAAA,SAAAY,wBAAA,GAAAlE,KAAA,UAAA1E,MAAA,WAAA6D,MAAA,SAA+FT,EAAAiC,GAAA,KAAA9B,EAAA,mBAAoCE,OAAOuE,MAAA,SAAAY,wBAAA,GAAAlE,KAAA,kBAAA1E,MAAA,WAAA6D,MAAA,SAAuGT,EAAAiC,GAAA,KAAA9B,EAAA,mBAAoCE,OAAOuE,MAAA,SAAAY,wBAAA,GAAAlE,KAAA,UAAA1E,MAAA,OAAA6D,MAAA,SAA2FT,EAAAiC,GAAA,KAAA9B,EAAA,mBAAoCE,OAAOuE,MAAA,SAAAY,wBAAA,GAAAlE,KAAA,UAAA1E,MAAA,OAAA6D,MAAA,SAA2FT,EAAAiC,GAAA,KAAA9B,EAAA,mBAAoCE,OAAOuE,MAAA,SAAAY,wBAAA,GAAA5I,MAAA,KAAA6D,MAAA,MAAAgF,MAAA,SAAuFC,YAAA1F,EAAA2F,KAAsBlD,IAAA,UAAAmD,GAAA,SAAAC,GAAiC,OAAA1F,EAAA,aAAwBE,OAAOd,KAAA,OAAA2B,KAAA,QAA4BR,IAAKsC,MAAA,SAAApC,GAAyB,OAAAZ,EAAAiD,aAAAjD,EAAAsF,UAAAO,EAAAC,aAAuD9F,EAAAiC,GAAA,oBAAAjC,EAAAiC,GAAA,KAAA9B,EAAA,aAAyDE,OAAOd,KAAA,OAAA2B,KAAA,QAA4BR,IAAKsC,MAAA,SAAApC,GAAyB,OAAAZ,EAAAiG,YAAAjG,EAAAsF,UAAAO,EAAAC,QAAApD,GAAA,YAAiE1C,EAAAiC,GAAA,oBAAAjC,EAAAiC,GAAA,KAAA9B,EAAA,aAAyDE,OAAOd,KAAA,OAAA2B,KAAA,QAA4BR,IAAKsC,MAAA,SAAApC,GAAyB,OAAAZ,EAAAiG,YAAAjG,EAAAsF,UAAAO,EAAAC,QAAApD,GAAA,YAAiE1C,EAAAiC,GAAA,oBAAAjC,EAAAiC,GAAA,KAAA9B,EAAA,aAAyDE,OAAOd,KAAA,OAAA2B,KAAA,QAA4BR,IAAKsC,MAAA,SAAApC,GAAyB,OAAAZ,EAAAkG,YAAAlG,EAAAsF,UAAAO,EAAAC,QAAApD,QAAyD1C,EAAAiC,GAAA,4BAAkC,GAAAjC,EAAAiC,GAAA,KAAA9B,EAAA,iBAAsC+B,aAAaqC,aAAA,QAAoBlE,OAAQ8F,eAAAnG,EAAA4D,QAAAwC,YAAApG,EAAAqG,SAAAC,OAAA,wCAAAxC,MAAA9D,EAAA8D,MAAA5C,KAAA,QAAqIR,IAAK6F,iBAAA,SAAA3F,GAAkC,OAAAZ,EAAAkE,gBAA0BsC,qBAAA,SAAA5F,GAAuCZ,EAAA4D,QAAAhD,GAAmB6F,sBAAA,SAAA7F,GAAwCZ,EAAA4D,QAAAhD,MAAqBT,EAAA,QAAAH,EAAAiC,GAAAjC,EAAA0G,GAAA1G,EAAAqG,UAAA,eAAArG,EAAAiC,GAAA,KAAAjC,EAAA,cAAAG,EAAA,oBAA+GE,OAAOV,QAAAK,EAAAQ,cAAAmG,WAAA3G,EAAA9B,QAAAqB,KAAAS,EAAA4G,mBAAgFlG,IAAKmG,mBAAA7G,EAAA8G,gBAAuC9G,EAAA8C,KAAA9C,EAAAiC,GAAA,KAAA9B,EAAA,aAAuCE,OAAOC,MAAA,SAAAX,QAAAK,EAAAoF,mBAAA3E,MAAA,OAAgEC,IAAKC,iBAAA,SAAAC,GAAkCZ,EAAAoF,mBAAAxE,GAA8BC,MAAAb,EAAA+G,2BAAsC5G,EAAA,OAAAA,EAAA,WAA0BW,YAAA,aAAuBX,EAAA,aAAkB+B,aAAaC,cAAA,OAAA1B,MAAA,SAAqCJ,OAAQ+B,SAAA,GAAAT,YAAA,MAAAC,UAAA,IAAiDX,OAAQpE,MAAAmD,EAAA,YAAA6B,SAAA,SAAAC,GAAiD9B,EAAA0D,YAAA5B,GAAoBE,WAAA,gBAA2BhC,EAAAuC,GAAAvC,EAAA,mBAAAwC,GAAuC,OAAArC,EAAA,aAAuBsC,IAAAD,EAAAE,GAAArC,OAAmBzD,MAAA4F,EAAAwE,UAAAnK,MAAA2F,EAAAE,QAA0C,WAAA1C,EAAAiC,GAAA,KAAA9B,EAAA,QAAoCW,YAAA,gBAAAT,OAAmC0C,KAAA,UAAgBA,KAAA,WAAe5C,EAAA,aAAkBE,OAAOd,KAAA,SAAA2B,KAAA,UAA+BlB,EAAAiC,GAAA,UAAAjC,EAAAiC,GAAA,KAAA9B,EAAA,aAA+CE,OAAOd,KAAA,UAAA2B,KAAA,QAA+BR,IAAKsC,MAAAhD,EAAA+G,2BAAqC/G,EAAAiC,GAAA,oBAE/wRkB,oBCCjB,IAaA8D,EAbA5D,EAAA,OAaA6D,CACA9D,EACAe,GATA,EATA,SAAAZ,GACAF,EAAA,SAYA,kBAEA,MAUA8D,EAAA,QAAAF,EAAA","file":"static/js/14.25ff478bbb46b9fc1bde.js","sourcesContent":["<template>\n  <div>\n    <el-dialog\n      :title=\"dialogTitle\"\n      :visible.sync=\"dialogVisible\"\n      width=\"90%\"\n      @close=\"close\"\n    >\n      <div>\n        <el-card class=\"box-card\">\n          <el-form\n            :inline=\"true\"\n            :model=\"configDetail\"\n            size=\"mini\"\n            ref=\"configDetail\"\n            :rules=\"configRules\"\n          >\n            <el-row :gutter=\"20\">\n              <el-form-item label=\"场景名称\" prop=\"sceneName\">\n                <el-col :span=\"8\">\n                  <el-input\n                    type=\"textarea\"\n                    :autosize=\"{ minRows: 4, maxRows: 8 }\"\n                    placeholder=\"必填项\"\n                    v-model=\"configDetail.sceneName\"\n                    clearable\n                  >\n                  </el-input>\n                </el-col>\n              </el-form-item>\n              <el-form-item label=\"上报地址\" prop=\"url\">\n                <el-col :span=\"8\">\n                  <el-input\n                    type=\"textarea\"\n                    :autosize=\"{ minRows: 4, maxRows: 8 }\"\n                    placeholder=\"必填项:http://39.100.208.209:8991/sync_json\"\n                    v-model=\"configDetail.url\"\n                    clearable\n                  >\n                  </el-input>\n                </el-col>\n              </el-form-item>\n            </el-row>\n            <el-row :gutter=\"20\">\n              <el-form-item\n                label=\"动态参数                                                                \"\n                prop=\"valueMap\"\n              >\n                <el-col :span=\"8\">\n                  <el-input\n                    type=\"textarea\"\n                    :autosize=\"{ minRows: 4, maxRows: 8 }\"\n                    placeholder='请输入内容:{\"data.#time\":\"2023-04-26 00:00:00.567\",\"#event_name\":\"测试事件名称\",\"properties.batchNo\":\"2023-04-26 00:00:00\"}'\n                    v-model=\"configDetail.valueMap\"\n                    clearable\n                  >\n                  </el-input>\n                </el-col>\n              </el-form-item>\n              <el-form-item label=\"trino配置\" prop=\"trinoMap\">\n                <el-col :span=\"12\">\n                  <el-input\n                    type=\"textarea\"\n                    :autosize=\"{ minRows: 4, maxRows: 8 }\"\n                    placeholder='必填项:{\"url\":\"jdbc:trino://192.168.0.106:8080\",\"user\":\"ta\",\"password\":\"\",\"SSL\":\"false\"}'\n                    v-model=\"configDetail.trinoMap\"\n                    clearable\n                  >\n                  </el-input>\n                </el-col>\n              </el-form-item>\n            </el-row>\n            <el-row :gutter=\"20\">\n              <el-form-item label=\"用例列表\" prop=\"idList\" class=\"idListForm\">\n                <el-col :span=\"12\">\n                  <el-select\n                    class=\"idListSelect\"\n                    v-model=\"configDetail.idList\"\n                    multiple\n                    collapse-tags\n                    style=\"margin-left: 20px;\"\n                    placeholder=\"必填项:请选择\"\n                    filterable\n                  >\n                    <el-option\n                      v-for=\"item in allCaseList\"\n                      :key=\"item.id\"\n                      :label=\"\n                        '[' +\n                          (item.caseType === 1 ? '事件' : '用户属性') +\n                          '][' +\n                          item.id +\n                          ']' +\n                          item.caseName\n                      \"\n                      :value=\"item.id\"\n                    >\n                    </el-option>\n                  </el-select>\n                </el-col>\n              </el-form-item>\n              <el-form-item\n                label=\"场景类型\"\n                prop=\"sceneType\"\n                class=\"verifyForm\"\n                style=\"margin-left: 20px\"\n              >\n                <el-col :span=\"4\">\n                  <el-select\n                    class=\"verifySelect\"\n                    v-model=\"configDetail.sceneType\"\n                    placeholder=\"必填项:请选择\"\n                    clearable\n                  >\n                    <el-option\n                      v-for=\"item in sceneTypeOptions\"\n                      :key=\"item.index\"\n                      :label=\"item.label\"\n                      :value=\"item.value\"\n                    >\n                    </el-option>\n                  </el-select>\n                </el-col>\n              </el-form-item>\n              <el-form-item\n                label=\"校验方式\"\n                prop=\"customCheck\"\n                class=\"verifyForm\"\n              >\n                <el-col :span=\"8\">\n                  <el-select\n                    v-model=\"configDetail.customCheck\"\n                    placeholder=\"必填项:请选择\"\n                    clearable\n                    class=\"verifySelect\"\n                  >\n                    <el-option\n                      v-for=\"item in verifyTypeOptions\"\n                      :key=\"item.index\"\n                      :label=\"item.label\"\n                      :value=\"item.value\"\n                    >\n                    </el-option>\n                  </el-select>\n                </el-col>\n              </el-form-item>\n            </el-row>\n            <el-row :gutter=\"20\">\n              <el-form-item\n                label=\"自定义SQL\"\n                prop=\"sqlList\"\n                v-if=\"configDetail.customCheck\"\n              >\n                <el-col :span=\"12\">\n                  <el-input\n                    type=\"textarea\"\n                    :autosize=\"{ minRows: 4, maxRows: 8 }\"\n                    placeholder=\"多条SQL请用',分割,结尾不要用';',查询结果是一个二维数组,如果是聚合查询,查询列必须有别名,请确保SQL语法正确,不要删除batchNo和uuid字段\"\n                    v-model=\"configDetail.sqlList\"\n                    clearable\n                  >\n                  </el-input>\n                </el-col>\n              </el-form-item>\n              <el-form-item\n                label=\"自定义期望结果\"\n                prop=\"valueMap\"\n                v-if=\"configDetail.customCheck\"\n              >\n                <el-col :span=\"12\">\n                  <el-input\n                    type=\"textarea\"\n                    :autosize=\"{ minRows: 4, maxRows: 8 }\"\n                    placeholder='自定义期望结果是一个二维数组,格式如下[[{\"nameCount\":1,\"avgCount\":10}],[{\"ageCount\":2}]]'\n                    v-model=\"configDetail.expectValueList\"\n                    clearable\n                  >\n                  </el-input>\n                </el-col>\n              </el-form-item>\n            </el-row>\n            <el-row :gutter=\"20\">\n              <el-form-item label=\"等待时长(分钟)\" prop=\"waitTime\">\n                <el-col :span=\"6\">\n                  <el-input\n                    type=\"input\"\n                    placeholder=\"请输入内容\"\n                    v-model=\"configDetail.waitTime\"\n                    clearable\n                  >\n                  </el-input>\n                </el-col>\n              </el-form-item>\n              <el-form-item label=\"主版本\" prop=\"version\">\n                <el-col :span=\"6\">\n                  <el-input\n                    type=\"input\"\n                    placeholder=\"请输入内容\"\n                    v-model=\"configDetail.version\"\n                    clearable\n                  >\n                  </el-input>\n                </el-col>\n              </el-form-item>\n              <el-form-item label=\"子版本\" prop=\"subVersion\">\n                <el-col :span=\"6\">\n                  <el-input\n                    type=\"input\"\n                    placeholder=\"请输入内容\"\n                    v-model=\"configDetail.subVersion\"\n                    clearable\n                  >\n                  </el-input>\n                </el-col>\n              </el-form-item>\n              <el-form-item label=\"项目ID\" prop=\"projectId\">\n                <el-col :span=\"4\">\n                  <el-input\n                    type=\"input\"\n                    placeholder=\"必填项:请输入项目ID\"\n                    v-model=\"configDetail.projectId\"\n                    clearable\n                  >\n                  </el-input>\n                </el-col>\n              </el-form-item>\n              <el-form-item label=\"上报日期\" prop=\"time\">\n                <el-col :span=\"4\">\n                  <el-input\n                    type=\"input\"\n                    placeholder=\"必填项:请输入上报日期\"\n                    v-model=\"configDetail.time\"\n                    clearable\n                  >\n                  </el-input>\n                </el-col>\n              </el-form-item>\n            </el-row>\n          </el-form>\n        </el-card>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"danger\" size=\"mini\" @click=\"executeScene\"\n          >执 行\n        </el-button>\n\n        <el-button type=\"primary\" size=\"mini\" @click=\"saveScene('configDetail')\"\n          >保 存</el-button\n        >\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ETLSceneDialog',\n  props: {\n    sceneId: {\n      type: Number,\n      default: null\n    },\n    type: {\n      type: Number,\n      default: 1 // 1 新增 2 编辑\n    },\n    visible: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data() {\n    return {\n      verifyTypeOptions: [\n        { label: '默认校验', value: false },\n        { label: '自定义校验', value: true }\n      ],\n      sceneTypeOptions: [\n        { label: '事件', value: 1 },\n        { label: '用户属性', value: 2 }\n      ],\n      allCaseList: [],\n      addConfigDetail: {\n        sceneName: '',\n        url: 'http://39.100.208.209:8991/sync_json',\n        valueMap:\n          '{\"appid\":\"69b2de81e39d4528a06f62cccf280af5\",\"data.#time\":\"' +\n          this.getNowTime() +\n          '\"}',\n        idList: '',\n        version: '4.0',\n        subVersion: '4.0.1',\n        trinoMap:\n          '{\"url\": \"jdbc:trino://39.100.208.209:8080\",\"user\": \"ta\",\"password\": \"\",\"SSL\": \"false\"}',\n        projectId: '3748',\n        time: this.getCurrentDate(),\n        waitTime: 10,\n        customCheck: false,\n        sqlList:\n          'select count(*) as count1 FROM hive.ta.\"v_user_3748\" t where batchNo=\\'%s\\' and uuid not in (%s),\\n select count(*) as count2 FROM hive.ta.\"v_event_3748\" t where batchNo=\\'%s\\' and uuid not in (%s)',\n        expectValueList: '[[{\"count1\":1}],[{\"count2\":2}]]',\n        sceneType: ''\n      },\n      configDetail: {},\n      configRules: {\n        url: [{ required: true, message: '上报地址不能为空' }],\n        idList: [{ required: true, message: '用例列表不能为空' }],\n        trinoMap: [{ required: true, message: 'trino配置不能为空' }],\n        projectId: [{ required: true, message: '项目ID不能为空' }],\n        time: [{ required: true, message: '上报日期不能为空' }],\n        sceneType: [{ required: true, message: '场景类型不能为空' }],\n        waitTime: [{ required: true, message: '等待时长不能为空' }],\n        sceneName: [{ required: true, message: '场景名称不能为空' }],\n        valueMap: [{ required: true, message: '动态参数不能为空' }]\n      }\n    };\n  },\n  methods: {\n    // 关闭dialog弹框\n    close() {\n      this.$emit('listenToChildEvent', false);\n    },\n    // 获取当前时间\n    getNowTime() {\n      let date = new Date();\n      let year = date.getFullYear();\n      let month =\n        date.getMonth() + 1 < 10\n          ? '0' + (date.getMonth() + 1)\n          : date.getMonth() + 1;\n\n      let currentDate =\n        date.getDate() < 10 ? '0' + date.getDate() : date.getDate();\n      let hour = date.getHours() < 10 ? '0' + date.getHours() : date.getHours();\n      let minute =\n        date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes();\n      let second =\n        date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds();\n      let milliSeconds = date.getMilliseconds();\n      let currentTime =\n        year +\n        '-' +\n        month +\n        '-' +\n        currentDate +\n        ' ' +\n        hour +\n        ':' +\n        minute +\n        ':' +\n        second +\n        '.' +\n        milliSeconds;\n      return currentTime;\n    },\n    // 是否为整数\n    isInt(obj) {\n      // 判断是否为整数\n      let re = /^[1-9]+[0-9]*]*$/;\n      if (!re.test(obj.value)) {\n        return false;\n      } else {\n        return true;\n      }\n    },\n    // 是否为json\n    isJson($string) {\n      try {\n        if (typeof JSON.parse($string) === 'object') return true;\n        return false;\n      } catch (e) {\n        return false;\n      }\n    },\n    // 获取当前日期\n    getCurrentDate() {\n      const nowDate = new Date();\n      const date = {\n        year: nowDate.getFullYear(),\n        month: nowDate.getMonth() + 1,\n        date: nowDate.getDate()\n      };\n      const newMonth = date.month >= 10 ? date.month : '0' + date.month;\n      const day = date.date >= 10 ? date.date : '0' + date.date;\n      return date.year + '-' + newMonth + '-' + day;\n    },\n    // 场景详情\n    detail() {\n      let url = String.format(\n        '{0}/etlScene/detail?id={1}',\n        this.GLOBAL.ETL_URL,\n        this.sceneId\n      );\n      this.axios\n        .get(url)\n        .then(response => {\n          let tmpResponse = JSON.parse(JSON.stringify(response.data.data));\n          // 用例列表字符串数组转数字数组\n          tmpResponse.idList = tmpResponse.idList.split(',').map(Number);\n          // 将自定义校验的值处理成boolean类型\n\n          if (tmpResponse.customCheck === 1) {\n            tmpResponse.customCheck = true;\n          } else {\n            tmpResponse.customCheck = false;\n          }\n          this.configDetail = tmpResponse;\n          return response;\n        })\n        .catch(response => {\n          return response;\n        });\n    },\n    // 获取所有用例\n    getAllCase() {\n      let url = String.format('{0}/etlCase/allCase', this.GLOBAL.ETL_URL);\n      this.axios\n        .get(url)\n        .then(response => {\n          this.allCaseList = response.data.data;\n          return response;\n        })\n        .catch(response => {\n          return response;\n        });\n    },\n    // 执行场景\n    executeScene() {\n      this.$refs['configDetail'].validate(valid => {\n        if (valid) {\n          let config = {\n            headers: {\n              'Content-Type': 'application/json;charset=UTF-8'\n            }\n          };\n          let url = String.format('{0}/etlCase/execute', this.GLOBAL.ETL_URL);\n          let executeConfig = JSON.parse(JSON.stringify(this.configDetail));\n          // sql列表不为数组\n          if (!Array.isArray(executeConfig.sqlList)) {\n            executeConfig.sqlList = executeConfig.sqlList\n              .replace('\\n', '')\n              .split(',');\n          }\n          // 期望结果不为json对象\n          if (this.isJson(executeConfig.expectValueList)) {\n            executeConfig.expectValueList = JSON.parse(\n              executeConfig.expectValueList\n            );\n          } else {\n            executeConfig.expectValueList = [];\n          }\n          // id列表不为数组\n          if (!Array.isArray(executeConfig.idList)) {\n            executeConfig.idList = executeConfig.idList.split(',').map(Number);\n          }\n          // trino配置不为json对象\n          if (this.isJson(executeConfig.trinoMap)) {\n            executeConfig.trinoMap = JSON.parse(executeConfig.trinoMap);\n          } else {\n            executeConfig.trinoMap = {};\n          }\n          // 动态参数不为json对象\n          if (this.isJson(executeConfig.valueMap)) {\n            executeConfig.valueMap = JSON.parse(executeConfig.valueMap);\n          } else {\n            executeConfig.valueMap = {};\n          }\n          // 等待时长是否为整数\n          if (!this.isInt(executeConfig.waitTime)) {\n            executeConfig.waitTime = Number.parseInt(executeConfig.waitTime);\n          }\n          this.axios\n            .post(url, executeConfig, config)\n            .then(response => {\n              this.loading = false;\n\n              if (response.data.code === '1000') {\n                this.Message.success(response.data.message);\n              } else {\n                this.Message.error(response.data.message);\n              }\n              return response;\n            })\n            .catch(response => {\n              return response;\n            });\n        } else {\n          this.Message.error('请填写必填项!');\n        }\n      });\n    },\n    // 保存场景\n    saveScene(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          let config = {\n            headers: {\n              'Content-Type': 'application/json;charset=UTF-8'\n            }\n          };\n          let url =\n            this.type === 2\n              ? String.format('{0}/etlScene/update', this.GLOBAL.ETL_URL)\n              : String.format('{0}/etlScene/add', this.GLOBAL.ETL_URL);\n          let saveDetail = JSON.parse(JSON.stringify(this.configDetail));\n          saveDetail.customCheck = saveDetail.customCheck ? 1 : 2;\n          saveDetail.idList = saveDetail.idList.join(',');\n\n          this.axios\n            .post(url, saveDetail, config)\n            .then(response => {\n              if (response.data.code === '1000') {\n                this.Message.success(response.data.message);\n                this.dialogVisible = false;\n                this.$emit('listenToChildEvent', true);\n              } else {\n                this.Message.error(response.data.message);\n              }\n              return response;\n            })\n            .catch(response => {\n              return response;\n            });\n        } else {\n          this.Message.error('请填写必填项!');\n        }\n      });\n    }\n  },\n  computed: {\n    dialogTitle() {\n      if (this.type === 2) {\n        return '编辑' + '（场景ID：' + this.sceneId + '）';\n      } else if (this.type === 3) {\n        return '复制';\n      }\n      return '新增';\n    },\n    btnText() {\n      if (this.type === 3) {\n        return '复 制';\n      }\n      return '保 存';\n    },\n    typeText() {\n      if (this.type === 2) {\n        return '编辑';\n      } else if (this.type === 3) {\n        return '复制';\n      }\n      return '新增';\n    }\n  },\n  created() {\n    // 获取所有用例\n    this.getAllCase();\n    this.dialogVisible = this.visible;\n    if (this.type === 2 || this.type === 3) {\n      // 编辑或者复制时,直接获取详情\n\n      this.detail();\n    } else if (this.type === 1) {\n      // 新增时,给默认值\n      this.configDetail = this.addConfigDetail;\n    }\n  }\n};\n</script>\n\n<style scoped>\n/deep/ .el-textarea {\n  width: 400px !important;\n}\n\n/deep/ .el-input {\n  width: 120px !important;\n}\n\n/deep/ .verifyForm {\n  width: 210px !important;\n}\n\n/deep/ .verifySelect {\n  width: 110px !important;\n}\n\n/deep/ .idListForm {\n  width: 480px !important;\n}\n\n/deep/ .idListSelect {\n  margin-left: 0px !important;\n  width: 350px !important;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ETLTemplate/ETLSceneDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"title\":_vm.dialogTitle,\"visible\":_vm.dialogVisible,\"width\":\"90%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"close\":_vm.close}},[_c('div',[_c('el-card',{staticClass:\"box-card\"},[_c('el-form',{ref:\"configDetail\",attrs:{\"inline\":true,\"model\":_vm.configDetail,\"size\":\"mini\",\"rules\":_vm.configRules}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-form-item',{attrs:{\"label\":\"场景名称\",\"prop\":\"sceneName\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 4, maxRows: 8 },\"placeholder\":\"必填项\",\"clearable\":\"\"},model:{value:(_vm.configDetail.sceneName),callback:function ($$v) {_vm.$set(_vm.configDetail, \"sceneName\", $$v)},expression:\"configDetail.sceneName\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上报地址\",\"prop\":\"url\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 4, maxRows: 8 },\"placeholder\":\"必填项:http://39.100.208.209:8991/sync_json\",\"clearable\":\"\"},model:{value:(_vm.configDetail.url),callback:function ($$v) {_vm.$set(_vm.configDetail, \"url\", $$v)},expression:\"configDetail.url\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-form-item',{attrs:{\"label\":\"动态参数                                                                \",\"prop\":\"valueMap\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 4, maxRows: 8 },\"placeholder\":\"请输入内容:{\\\"data.#time\\\":\\\"2023-04-26 00:00:00.567\\\",\\\"#event_name\\\":\\\"测试事件名称\\\",\\\"properties.batchNo\\\":\\\"2023-04-26 00:00:00\\\"}\",\"clearable\":\"\"},model:{value:(_vm.configDetail.valueMap),callback:function ($$v) {_vm.$set(_vm.configDetail, \"valueMap\", $$v)},expression:\"configDetail.valueMap\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"trino配置\",\"prop\":\"trinoMap\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 4, maxRows: 8 },\"placeholder\":\"必填项:{\\\"url\\\":\\\"jdbc:trino://192.168.0.106:8080\\\",\\\"user\\\":\\\"ta\\\",\\\"password\\\":\\\"\\\",\\\"SSL\\\":\\\"false\\\"}\",\"clearable\":\"\"},model:{value:(_vm.configDetail.trinoMap),callback:function ($$v) {_vm.$set(_vm.configDetail, \"trinoMap\", $$v)},expression:\"configDetail.trinoMap\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-form-item',{staticClass:\"idListForm\",attrs:{\"label\":\"用例列表\",\"prop\":\"idList\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-select',{staticClass:\"idListSelect\",staticStyle:{\"margin-left\":\"20px\"},attrs:{\"multiple\":\"\",\"collapse-tags\":\"\",\"placeholder\":\"必填项:请选择\",\"filterable\":\"\"},model:{value:(_vm.configDetail.idList),callback:function ($$v) {_vm.$set(_vm.configDetail, \"idList\", $$v)},expression:\"configDetail.idList\"}},_vm._l((_vm.allCaseList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":'[' +\n                        (item.caseType === 1 ? '事件' : '用户属性') +\n                        '][' +\n                        item.id +\n                        ']' +\n                        item.caseName,\"value\":item.id}})}),1)],1)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"verifyForm\",staticStyle:{\"margin-left\":\"20px\"},attrs:{\"label\":\"场景类型\",\"prop\":\"sceneType\"}},[_c('el-col',{attrs:{\"span\":4}},[_c('el-select',{staticClass:\"verifySelect\",attrs:{\"placeholder\":\"必填项:请选择\",\"clearable\":\"\"},model:{value:(_vm.configDetail.sceneType),callback:function ($$v) {_vm.$set(_vm.configDetail, \"sceneType\", $$v)},expression:\"configDetail.sceneType\"}},_vm._l((_vm.sceneTypeOptions),function(item){return _c('el-option',{key:item.index,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"verifyForm\",attrs:{\"label\":\"校验方式\",\"prop\":\"customCheck\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-select',{staticClass:\"verifySelect\",attrs:{\"placeholder\":\"必填项:请选择\",\"clearable\":\"\"},model:{value:(_vm.configDetail.customCheck),callback:function ($$v) {_vm.$set(_vm.configDetail, \"customCheck\", $$v)},expression:\"configDetail.customCheck\"}},_vm._l((_vm.verifyTypeOptions),function(item){return _c('el-option',{key:item.index,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1)],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":20}},[(_vm.configDetail.customCheck)?_c('el-form-item',{attrs:{\"label\":\"自定义SQL\",\"prop\":\"sqlList\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 4, maxRows: 8 },\"placeholder\":\"多条SQL请用',分割,结尾不要用';',查询结果是一个二维数组,如果是聚合查询,查询列必须有别名,请确保SQL语法正确,不要删除batchNo和uuid字段\",\"clearable\":\"\"},model:{value:(_vm.configDetail.sqlList),callback:function ($$v) {_vm.$set(_vm.configDetail, \"sqlList\", $$v)},expression:\"configDetail.sqlList\"}})],1)],1):_vm._e(),_vm._v(\" \"),(_vm.configDetail.customCheck)?_c('el-form-item',{attrs:{\"label\":\"自定义期望结果\",\"prop\":\"valueMap\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 4, maxRows: 8 },\"placeholder\":\"自定义期望结果是一个二维数组,格式如下[[{\\\"nameCount\\\":1,\\\"avgCount\\\":10}],[{\\\"ageCount\\\":2}]]\",\"clearable\":\"\"},model:{value:(_vm.configDetail.expectValueList),callback:function ($$v) {_vm.$set(_vm.configDetail, \"expectValueList\", $$v)},expression:\"configDetail.expectValueList\"}})],1)],1):_vm._e()],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-form-item',{attrs:{\"label\":\"等待时长(分钟)\",\"prop\":\"waitTime\"}},[_c('el-col',{attrs:{\"span\":6}},[_c('el-input',{attrs:{\"type\":\"input\",\"placeholder\":\"请输入内容\",\"clearable\":\"\"},model:{value:(_vm.configDetail.waitTime),callback:function ($$v) {_vm.$set(_vm.configDetail, \"waitTime\", $$v)},expression:\"configDetail.waitTime\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"主版本\",\"prop\":\"version\"}},[_c('el-col',{attrs:{\"span\":6}},[_c('el-input',{attrs:{\"type\":\"input\",\"placeholder\":\"请输入内容\",\"clearable\":\"\"},model:{value:(_vm.configDetail.version),callback:function ($$v) {_vm.$set(_vm.configDetail, \"version\", $$v)},expression:\"configDetail.version\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"子版本\",\"prop\":\"subVersion\"}},[_c('el-col',{attrs:{\"span\":6}},[_c('el-input',{attrs:{\"type\":\"input\",\"placeholder\":\"请输入内容\",\"clearable\":\"\"},model:{value:(_vm.configDetail.subVersion),callback:function ($$v) {_vm.$set(_vm.configDetail, \"subVersion\", $$v)},expression:\"configDetail.subVersion\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"项目ID\",\"prop\":\"projectId\"}},[_c('el-col',{attrs:{\"span\":4}},[_c('el-input',{attrs:{\"type\":\"input\",\"placeholder\":\"必填项:请输入项目ID\",\"clearable\":\"\"},model:{value:(_vm.configDetail.projectId),callback:function ($$v) {_vm.$set(_vm.configDetail, \"projectId\", $$v)},expression:\"configDetail.projectId\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上报日期\",\"prop\":\"time\"}},[_c('el-col',{attrs:{\"span\":4}},[_c('el-input',{attrs:{\"type\":\"input\",\"placeholder\":\"必填项:请输入上报日期\",\"clearable\":\"\"},model:{value:(_vm.configDetail.time),callback:function ($$v) {_vm.$set(_vm.configDetail, \"time\", $$v)},expression:\"configDetail.time\"}})],1)],1)],1)],1)],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":_vm.executeScene}},[_vm._v(\"执 行\\n      \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.saveScene('configDetail')}}},[_vm._v(\"保 存\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6e261302\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ETLTemplate/ETLSceneDialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6e261302\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ETLSceneDialog.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ETLSceneDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6e261302\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ETLSceneDialog.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6e261302\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ETLTemplate/ETLSceneDialog.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <el-card\n      shadow=\"always\"\n      style=\"margin-top: 10px\"\n      v-loading=\"loading\"\n      element-loading-text=\"执行中,上报后会等待10秒,请稍等～～～～～\"\n      element-loading-spinner=\"el-icon-loading\"\n      element-loading-background=\"rgba(0, 0, 0, 0.8)\"\n    >\n      <el-form :inline=\"true\" :model=\"searchForm\" size=\"mini\">\n        <el-form-item label=\"场景id\">\n          <el-input\n            v-model=\"searchForm.id\"\n            placeholder=\"输入场景id\"\n            clearable\n            style=\"width: 150px\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"场景名称\">\n          <el-input\n            v-model=\"searchForm.sceneName\"\n            placeholder=\"输入场景名称\"\n            clearable\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"场景类型\">\n          <el-select\n            v-model=\"searchForm.sceneType\"\n            filterable\n            placeholder=\"请选择\"\n            clearable\n          >\n            <el-option\n              v-for=\"item in sceneTypeOptions\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\"\n            >\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"上报地址\">\n          <el-input\n            v-model=\"searchForm.url\"\n            placeholder=\"输入上报地址\"\n            clearable\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"主版本\">\n          <el-input\n            v-model=\"searchForm.version\"\n            placeholder=\"输入主版本\"\n            clearable\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"子版本\">\n          <el-input\n            v-model=\"searchForm.subVersion\"\n            placeholder=\"输入子版本\"\n            clearable\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"创建时间\">\n          <el-date-picker\n            v-model=\"searchForm.addTime\"\n            type=\"datetimerange\"\n            align=\"right\"\n            start-placeholder=\"起始时间\"\n            end-placeholder=\"截止时间\"\n            :default-time=\"['00:00:00', '23:59:59']\"\n            style=\"width: 360px;\"\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\n          >\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"更新时间\">\n          <el-date-picker\n            v-model=\"searchForm.updateTime\"\n            type=\"datetimerange\"\n            align=\"right\"\n            start-placeholder=\"起始时间\"\n            end-placeholder=\"截止时间\"\n            :default-time=\"['00:00:00', '23:59:59']\"\n            style=\"width: 360px;\"\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\n          >\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item style=\"float: right;margin-right: 60px\">\n          <el-button type=\"primary\" @click=\"getSceneList('search')\"\n            >查 询\n          </el-button>\n          <el-button type=\"success\" @click=\"clickAddBtn\">新 增</el-button>\n          <el-button type=\"danger\" @click=\"batchExecuteDialog = true\"\n            >批量执行</el-button\n          >\n\n          <el-button type=\"info\" @click=\"reSet\">重 置</el-button>\n        </el-form-item>\n      </el-form>\n      <el-table\n        :data=\"tableData\"\n        border\n        style=\"width: 100%\"\n        size=\"mini\"\n        align=\"center\"\n      >\n        <el-table-column\n          show-overflow-tooltip\n          prop=\"id\"\n          label=\"场景id\"\n          width=\"100\"\n          align=\"center\"\n          fixed=\"left\"\n        >\n        </el-table-column>\n        <el-table-column\n          show-overflow-tooltip\n          prop=\"sceneName\"\n          label=\"场景名称\"\n          width=\"250\"\n          align=\"center\"\n        >\n        </el-table-column>\n        <el-table-column\n          show-overflow-tooltip\n          prop=\"sceneType\"\n          label=\"场景类型\"\n          align=\"center\"\n          width=\"100\"\n        >\n          <template slot-scope=\"scope\">\n            <span v-if=\"tableData[scope.$index].sceneType === 1\">事件</span>\n            <span v-else-if=\"tableData[scope.$index].sceneType === 2\"\n              >用户属性</span\n            >\n            <span v-else>未知</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          align=\"center\"\n          show-overflow-tooltip\n          prop=\"idList\"\n          label=\"用例集\"\n          width=\"200\"\n        ></el-table-column>\n        <el-table-column\n          align=\"center\"\n          show-overflow-tooltip\n          prop=\"url\"\n          label=\"上报地址\"\n          width=\"250\"\n        ></el-table-column>\n        <el-table-column\n          align=\"center\"\n          show-overflow-tooltip\n          prop=\"valueMap\"\n          label=\"动态参数\"\n          width=\"250\"\n        ></el-table-column>\n        <el-table-column\n          align=\"center\"\n          show-overflow-tooltip\n          prop=\"version\"\n          label=\"主版本\"\n          width=\"100\"\n        ></el-table-column>\n        <el-table-column\n          align=\"center\"\n          show-overflow-tooltip\n          prop=\"subVersion\"\n          label=\"子版本\"\n          width=\"100\"\n        ></el-table-column>\n        <el-table-column\n          align=\"center\"\n          show-overflow-tooltip\n          prop=\"trinoMap\"\n          label=\"trino配置\"\n          width=\"100\"\n        ></el-table-column>\n        <el-table-column\n          align=\"center\"\n          show-overflow-tooltip\n          prop=\"projectId\"\n          label=\"项目Id\"\n          width=\"100\"\n        ></el-table-column>\n        <el-table-column\n          align=\"center\"\n          show-overflow-tooltip\n          prop=\"time\"\n          label=\"上报日期\"\n          width=\"180\"\n        ></el-table-column>\n        <el-table-column\n          align=\"center\"\n          show-overflow-tooltip\n          prop=\"waitTime\"\n          label=\"等待时长\"\n          width=\"100\"\n        ></el-table-column>\n        <el-table-column\n          align=\"center\"\n          show-overflow-tooltip\n          prop=\"customCheck\"\n          label=\"自定义校验\"\n          width=\"100\"\n        >\n          <template slot-scope=\"scope\">\n            <span v-if=\"tableData[scope.$index].customCheck === 1\">开启</span>\n            <span v-else-if=\"tableData[scope.$index].customCheck === 2\"\n              >关闭</span\n            >\n            <span v-else>未知</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          align=\"center\"\n          show-overflow-tooltip\n          prop=\"sqlList\"\n          label=\"自定义校验SQL\"\n          width=\"250\"\n        ></el-table-column>\n        <el-table-column\n          align=\"center\"\n          show-overflow-tooltip\n          prop=\"expectValueList\"\n          label=\"自定义校验期望值\"\n          width=\"250\"\n        ></el-table-column>\n        <el-table-column\n          align=\"center\"\n          show-overflow-tooltip\n          prop=\"addTime\"\n          label=\"创建时间\"\n          width=\"250\"\n        ></el-table-column>\n        <el-table-column\n          align=\"center\"\n          show-overflow-tooltip\n          prop=\"addTime\"\n          label=\"更新时间\"\n          width=\"250\"\n        ></el-table-column>\n        <el-table-column\n          align=\"center\"\n          show-overflow-tooltip\n          label=\"操作\"\n          width=\"250\"\n          fixed=\"right\"\n        >\n          <template slot-scope=\"scope\">\n            <el-button\n              type=\"text\"\n              size=\"mini\"\n              @click=\"executeScene(tableData[scope.$index])\"\n              >执行\n            </el-button>\n            <el-button\n              type=\"text\"\n              size=\"mini\"\n              @click=\"sceneDetail(tableData[scope.$index].id, 'copy')\"\n              >复制\n            </el-button>\n\n            <el-button\n              type=\"text\"\n              size=\"mini\"\n              @click=\"sceneDetail(tableData[scope.$index].id, 'edit')\"\n              >编辑\n            </el-button>\n            <el-button\n              type=\"text\"\n              size=\"mini\"\n              @click=\"deleteScene(tableData[scope.$index].id)\"\n              >删除\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-pagination\n        @current-change=\"getSceneList()\"\n        :current-page.sync=\"pageNum\"\n        :page-size=\"pageSize\"\n        layout=\"total,slot, prev, pager, next, jumper\"\n        :total=\"total\"\n        style=\"margin-top: 10px\"\n        size=\"mini\"\n      >\n        <span>{{ pageSize }}条/页</span>\n      </el-pagination>\n    </el-card>\n    <etl-scene-dialog\n      v-if=\"dialogVisible\"\n      :visible=\"dialogVisible\"\n      :scene-id=\"sceneId\"\n      :type=\"dialogVisibleType\"\n      @listenToChildEvent=\"callbackFunc\"\n    ></etl-scene-dialog>\n    <el-dialog\n      title=\"批量执行场景\"\n      :visible.sync=\"batchExecuteDialog\"\n      width=\"60%\"\n      @close=\"closeBatchExecuteDialog\"\n    >\n      <div>\n        <el-card class=\"box-card\">\n          <el-select\n            v-model=\"sceneIdList\"\n            multiple\n            style=\"margin-left: 20px;width: 600px;\"\n            placeholder=\"请选择\"\n            clearable\n          >\n            <el-option\n              v-for=\"item in sceneList\"\n              :key=\"item.id\"\n              :label=\"item.sceneName\"\n              :value=\"item.id\"\n            >\n            </el-option>\n          </el-select>\n        </el-card>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"danger\" size=\"mini\">执 行 </el-button>\n\n        <el-button type=\"primary\" size=\"mini\" @click=\"closeBatchExecuteDialog\"\n          >取 消</el-button\n        >\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport ETLSceneDialog from '../ETLTemplate/ETLSceneDialog';\n\nexport default {\n  name: 'ETLSceneList',\n  components: { etlSceneDialog: ETLSceneDialog },\n\n  data() {\n    return {\n      loading: false,\n      allCaseList: [],\n      sceneTypeOptions: [\n        { label: '事件', value: 1 },\n        { label: '用户属性', value: 2 }\n      ],\n      pageSize: 10,\n      total: 0,\n      pageNum: 1,\n      sceneId: null,\n      dialogVisibleType: 1,\n      dialogVisible: false,\n      searchForm: {\n        id: '',\n        sceneName: '',\n        sceneType: '',\n        url: '',\n        version: '',\n        subVersion: '',\n        addTime: '',\n        updateTime: ''\n      },\n      tableData: [],\n      batchExecuteDialog: false,\n      sceneIdList: [],\n      sceneList: [\n        {\n          id: 6,\n          sceneName: '朱伟的自定义场景模板',\n          url: 'http://39.100.208.209:8991/sync_json',\n          valueMap:\n            '{\"appid\":\"69b2de81e39d4528a06f62cccf280af5\",\"data.#time\":\"2023-05-17 12:38:34.241\"}',\n          version: '4.0',\n          subVersion: '4.0.1',\n          trinoMap:\n            '{\"url\": \"jdbc:trino://39.100.208.209:8080\",\"user\": \"ta\",\"password\": \"\",\"SSL\": \"false\"}',\n          projectId: '3800',\n          time: '2023-05-17',\n          waitTime: 5,\n          awaitTime: 0,\n          customCheck: 1,\n          sqlList:\n            'select count(*) as count1 FROM hive.ta.\"v_user_3800\" t where batchNo=\\'%s\\' and uuid not in (%s),\\n select count(*) as count2 FROM hive.ta.\"v_event_3800\" t where batchNo=\\'%s\\' and uuid not in (%s)',\n          expectValueList: '[[{\"count1\":1}],[{\"count2\":1}]]',\n          idList: '43,41',\n          sceneType: 1,\n          tableMetaType: null,\n          creator: null,\n          addTime: '2023-05-17 12:39:37',\n          updateTime: '2023-05-17 16:21:22'\n        },\n        {\n          id: 7,\n          sceneName: '朱伟的自定义场景模板1',\n          url: 'http://39.100.208.209:8991/sync_json',\n          valueMap:\n            '{\"appid\":\"69b2de81e39d4528a06f62cccf280af5\",\"data.#time\":\"2023-05-17 12:38:34.241\"}',\n          version: '4.0',\n          subVersion: '4.0.1',\n          trinoMap:\n            '{\"url\": \"jdbc:trino://39.100.208.209:8080\",\"user\": \"ta\",\"password\": \"\",\"SSL\": \"false\"}',\n          projectId: '3800',\n          time: '2023-05-17',\n          waitTime: 5,\n          awaitTime: 0,\n          customCheck: 1,\n          sqlList:\n            'select count(*) as count1 FROM hive.ta.\"v_user_3800\" t where batchNo=\\'%s\\' and uuid not in (%s),\\n select count(*) as count2 FROM hive.ta.\"v_event_3800\" t where batchNo=\\'%s\\' and uuid not in (%s)',\n          expectValueList: '[[{\"count1\":1}],[{\"count2\":2}]]',\n          idList: '43,41',\n          sceneType: 1,\n          tableMetaType: null,\n          creator: null,\n          addTime: '2023-05-17 14:03:40',\n          updateTime: '2023-05-17 14:11:22'\n        },\n        {\n          id: 8,\n          sceneName: 'zhuweitest3',\n          url: 'http://39.100.208.209:8991/sync_json',\n          valueMap:\n            '{\"appid\":\"7ec5cbba58114551b47956f6118e03d9\",\"data.#time\":\"2023-07-07 09:26:11.458\"}',\n          version: '4.0',\n          subVersion: '4.0.1',\n          trinoMap:\n            '{\"url\": \"jdbc:trino://39.100.208.209:8080\",\"user\": \"ta\",\"password\": \"\",\"SSL\": \"false\"}',\n          projectId: '3800',\n          time: '2023-05-17',\n          waitTime: 10,\n          awaitTime: 0,\n          customCheck: 2,\n          sqlList:\n            ' select count(*) as count2 FROM hive.ta.\"v_event_3800\" t where batchNo=\\'%s\\' and uuid not in (%s)',\n          expectValueList: '[[{\"count2\":1}]]',\n          idList: '43',\n          sceneType: 1,\n          tableMetaType: null,\n          creator: null,\n          addTime: '2023-05-17 15:34:26',\n          updateTime: '2023-05-17 15:34:26'\n        },\n        {\n          id: 9,\n          sceneName: '黄鹤的自定义场景',\n          url: 'http://39.100.208.209:8991/sync_json',\n          valueMap:\n            '{\"appid\":\"7ec5cbba58114551b47956f6118e03d9\",\"data.#time\":\"2023-07-07 09:26:11.458\"}',\n          version: '4.0',\n          subVersion: '4.0.1',\n          trinoMap:\n            '{\"url\": \"jdbc:trino://39.100.208.209:8080\",\"user\": \"ta\",\"password\": \"\",\"SSL\": \"false\"}',\n          projectId: '3748',\n          time: '2023-07-07',\n          waitTime: 2,\n          awaitTime: 0,\n          customCheck: 1,\n          sqlList:\n            'select count(*) as count1 FROM hive.ta.\"v_event_3748\" t where batchNo=\\'%s\\' and uuid not in (%s)',\n          expectValueList: '[[{\"count1\":1}]]',\n          idList: '9',\n          sceneType: 1,\n          tableMetaType: '1',\n          creator: null,\n          addTime: '2023-05-17 16:23:23',\n          updateTime: '2023-05-17 16:23:23'\n        },\n        {\n          id: 10,\n          sceneName: '复杂数据类型',\n          url: 'http://39.100.208.209:8991/sync_json',\n          valueMap:\n            '{\"appid\":\"7ec5cbba58114551b47956f6118e03d9\",\"data.#time\":\"2023-07-07 09:26:11.458\"}',\n          version: '4.0',\n          subVersion: '4.0.1',\n          trinoMap:\n            '{\"url\": \"jdbc:trino://39.100.208.209:8080\",\"user\": \"ta\",\"password\": \"\",\"SSL\": \"false\"}',\n          projectId: '3748',\n          time: '2023-07-07',\n          waitTime: 2,\n          awaitTime: 0,\n          customCheck: 1,\n          sqlList:\n            ' select count(*) as count2 FROM hive.ta.\"v_user_3748\" t where batchNo=\\'%s\\' and uuid not in (%s)',\n          expectValueList: '[[{\"count2\":1}]]',\n          idList: '10',\n          sceneType: 1,\n          tableMetaType: '2',\n          creator: null,\n          addTime: '2023-05-17 16:26:25',\n          updateTime: '2023-05-17 16:27:49'\n        },\n        {\n          id: 11,\n          sceneName: '演示',\n          url: 'http://39.100.208.209:8991/sync_json',\n          valueMap:\n            '{\"appid\":\"69b2de81e39d4528a06f62cccf280af5\",\"data.#time\":\"2023-05-17 17:00:55.616\"}',\n          version: '4.0',\n          subVersion: '4.0.1',\n          trinoMap:\n            '{\"url\": \"jdbc:trino://39.100.208.209:8080\",\"user\": \"ta\",\"password\": \"\",\"SSL\": \"false\"}',\n          projectId: '3748',\n          time: '2023-05-17',\n          waitTime: 10,\n          awaitTime: 0,\n          customCheck: 2,\n          sqlList:\n            ' select count(*) as count2 FROM hive.ta.\"v_event_3748\" t where batchNo=\\'%s\\' and uuid not in (%s)',\n          expectValueList: '[[{\"count1\":1}],[{\"count2\":2}]]',\n          idList: '9,45,44,43,42,41',\n          sceneType: 1,\n          tableMetaType: null,\n          creator: null,\n          addTime: '2023-05-17 17:01:29',\n          updateTime: '2023-05-17 17:01:29'\n        },\n        {\n          id: 12,\n          sceneName: '全选场景',\n          url: 'http://39.100.208.209:8991/sync_json',\n          valueMap:\n            '{\"appid\":\"69b2de81e39d4528a06f62cccf280af5\",\"data.#time\":\"2023-05-17 17:04:47.436\"}',\n          version: '4.0',\n          subVersion: '4.0.1',\n          trinoMap:\n            '{\"url\": \"jdbc:trino://39.100.208.209:8080\",\"user\": \"ta\",\"password\": \"\",\"SSL\": \"false\"}',\n          projectId: '3800',\n          time: '2023-05-17',\n          waitTime: 5,\n          awaitTime: 0,\n          customCheck: 2,\n          sqlList:\n            'select count(*) as count1 FROM hive.ta.\"v_user_3748\" t where batchNo=\\'%s\\' and uuid not in (%s),\\n select count(*) as count2 FROM hive.ta.\"v_event_3748\" t where batchNo=\\'%s\\' and uuid not in (%s)',\n          expectValueList: '[[{\"count1\":1}],[{\"count2\":2}]]',\n          idList: '9,10,27,28,29,30,31,32,33,35,36,37,39,41,42,43,44,45',\n          sceneType: 1,\n          tableMetaType: null,\n          creator: null,\n          addTime: '2023-05-17 17:07:00',\n          updateTime: '2023-05-19 16:46:20'\n        },\n        {\n          id: 19,\n          sceneName: 'track',\n          url: 'http://39.100.208.209:8991/sync_json',\n          valueMap:\n            '{\"appid\":\"69b2de81e39d4528a06f62cccf280af5\",\"data.#time\":\"2023-06-01 16:57:53.651\"}',\n          version: '4.0',\n          subVersion: '4.0.1',\n          trinoMap:\n            '{\"url\": \"jdbc:trino://39.100.208.209:8080\",\"user\": \"ta\",\"password\": \"\",\"SSL\": \"false\"}',\n          projectId: '3800',\n          time: '2023-06-01',\n          waitTime: 5,\n          awaitTime: 0,\n          customCheck: 2,\n          sqlList:\n            'select count(*) as count1 FROM hive.ta.\"v_user_3800\" t where batchNo=\\'%s\\' and uuid not in (%s),\\n select count(*) as count2 FROM hive.ta.\"v_event_3800\" t where batchNo=\\'%s\\' and uuid not in (%s)',\n          expectValueList: '[[{\"count1\":1}],[{\"count2\":2}]]',\n          idList: '44',\n          sceneType: 1,\n          tableMetaType: null,\n          creator: '朱伟',\n          addTime: '2023-06-01 16:59:32',\n          updateTime: '2023-06-01 16:59:32'\n        },\n        {\n          id: 20,\n          sceneName: 'track_update',\n          url: 'http://39.100.208.209:8991/sync_json',\n          valueMap:\n            '{\"appid\":\"7ec5cbba58114551b47956f6118e03d9\",\"data.#time\":\"2023-06-28 13:59:37.516\"}',\n          version: '4.0',\n          subVersion: '4.0.1',\n          trinoMap:\n            '{\"url\": \"jdbc:trino://39.100.208.209:8080\",\"user\": \"ta\",\"password\": \"\",\"SSL\": \"false\"}',\n          projectId: '3748',\n          time: '2023-06-28',\n          waitTime: 5,\n          awaitTime: 0,\n          customCheck: 2,\n          sqlList:\n            'select count(*) as count1 FROM hive.ta.\"v_user_3800\" t where batchNo=\\'%s\\' and uuid not in (%s),\\n select count(*) as count2 FROM hive.ta.\"v_event_3800\" t where batchNo=\\'%s\\' and uuid not in (%s)',\n          expectValueList: '[[{\"count1\":1}],[{\"count2\":2}]]',\n          idList: '10',\n          sceneType: 2,\n          tableMetaType: 'qweads',\n          creator: '朱伟',\n          addTime: '2023-06-01 16:59:58',\n          updateTime: '2023-06-28 17:06:01'\n        },\n        {\n          id: 21,\n          sceneName: 'track_overwrite',\n          url: 'http://39.100.208.209:8991/sync_json',\n          valueMap:\n            '{\"appid\":\"69b2de81e39d4528a06f62cccf280af5\",\"data.#time\":\"2023-06-01 16:59:59.725\"}',\n          version: '4.0',\n          subVersion: '4.0.1',\n          trinoMap:\n            '{\"url\": \"jdbc:trino://39.100.208.209:8080\",\"user\": \"ta\",\"password\": \"\",\"SSL\": \"false\"}',\n          projectId: '3800',\n          time: '2023-06-01',\n          waitTime: 5,\n          awaitTime: 0,\n          customCheck: 1,\n          sqlList:\n            'select count(*) as count1 FROM hive.ta.\"v_user_3800\" t where batchNo=\\'%s\\' and uuid not in (%s),\\n select count(*) as count2 FROM hive.ta.\"v_event_3800\" t where batchNo=\\'%s\\' and uuid not in (%s)',\n          expectValueList: '[[{\"count1\":1}],[{\"count2\":2}]]',\n          idList: '27',\n          sceneType: 1,\n          tableMetaType: null,\n          creator: '朱伟',\n          addTime: '2023-06-01 17:00:23',\n          updateTime: '2023-06-01 17:00:23'\n        },\n        {\n          id: 22,\n          sceneName: '1231',\n          url: 'http://39.100.208.209:8991/sync_json',\n          valueMap:\n            '{\"appid\":\"69b2de81e39d4528a06f62cccf280af5\",\"data.#time\":\"2023-06-01 17:16:36.181\"}',\n          version: '4.0',\n          subVersion: '4.0.1',\n          trinoMap:\n            '{\"url\": \"jdbc:trino://39.100.208.209:8080\",\"user\": \"ta\",\"password\": \"\",\"SSL\": \"false\"}',\n          projectId: '3800',\n          time: '2023-06-01',\n          waitTime: 5,\n          awaitTime: 1,\n          customCheck: 2,\n          sqlList:\n            'select count(*) as count1 FROM hive.ta.\"v_user_3800\" t where batchNo=\\'%s\\' and uuid not in (%s),\\n select count(*) as count2 FROM hive.ta.\"v_event_3800\" t where batchNo=\\'%s\\' and uuid not in (%s)',\n          expectValueList: '[[{\"count1\":1}],[{\"count2\":2}]]',\n          idList: '31',\n          sceneType: 1,\n          tableMetaType: null,\n          creator: '朱伟',\n          addTime: '2023-06-01 17:16:50',\n          updateTime: '2023-06-02 10:49:55'\n        }\n      ]\n    };\n  },\n  methods: {\n    // 设置行的颜色\n    tableRowClassName({ row, rowIndex }) {\n      if (rowIndex % 2 === 0) {\n        return 'warning-row';\n      } else {\n        return 'success-row';\n      }\n    },\n    // 用于子组件的回调函数\n    callbackFunc(fresh) {\n      this.dialogVisible = false;\n      if (fresh) {\n        this.getSceneList('search');\n      }\n    },\n    // 重置搜索\n    reSet() {\n      this.pageNum = 1;\n      this.searchForm = {\n        id: '',\n        sceneName: '',\n        sceneType: '',\n        url: '',\n        version: '',\n        subVersion: '',\n        addTime: '',\n        updateTime: ''\n      };\n      this.getSceneList('search');\n    },\n    // 是否为整数\n    isInt(obj) {\n      // 判断是否为整数\n      let re = /^[1-9]+[0-9]*]*$/;\n      if (!re.test(obj.value)) {\n        return false;\n      } else {\n        return true;\n      }\n    },\n    // 是否为json\n    isJson($string) {\n      try {\n        if (typeof JSON.parse($string) === 'object') return true;\n        return false;\n      } catch (e) {\n        return false;\n      }\n    },\n    closeBatchExecuteDialog() {\n      console.log(this.sceneIdList);\n      this.batchExecuteDialog = false;\n      this.sceneIdList = [];\n    },\n    // 执行场景\n    executeScene(scene) {\n      let config = {\n        headers: {\n          'Content-Type': 'application/json;charset=UTF-8'\n        }\n      };\n      let url = String.format('{0}/etlCase/execute', this.GLOBAL.ETL_URL);\n      let executeConfig = JSON.parse(JSON.stringify(scene));\n      // sql列表不为数组\n      if (!Array.isArray(executeConfig.sqlList)) {\n        executeConfig.sqlList = executeConfig.sqlList\n          .replace('\\n', '')\n          .split(',');\n      }\n      // 期望结果不为json对象\n      if (this.isJson(executeConfig.expectValueList)) {\n        executeConfig.expectValueList = JSON.parse(\n          executeConfig.expectValueList\n        );\n      } else {\n        executeConfig.expectValueList = [];\n      }\n      // id列表不为数组\n      if (!Array.isArray(executeConfig.idList)) {\n        executeConfig.idList = executeConfig.idList.split(',').map(Number);\n      }\n      // trino配置不为json对象\n      if (this.isJson(executeConfig.trinoMap)) {\n        executeConfig.trinoMap = JSON.parse(executeConfig.trinoMap);\n      } else {\n        executeConfig.trinoMap = {};\n      }\n      // 动态参数不为json对象\n      if (this.isJson(executeConfig.valueMap)) {\n        executeConfig.valueMap = JSON.parse(executeConfig.valueMap);\n      } else {\n        executeConfig.valueMap = {};\n      }\n      // 等待时长是否为整数\n      if (!this.isInt(executeConfig.waitTime)) {\n        executeConfig.waitTime = Number.parseInt(executeConfig.waitTime);\n      }\n      executeConfig.customCheck = executeConfig.customCheck === 1;\n      this.axios\n        .post(url, executeConfig, config)\n        .then(response => {\n          this.loading = false;\n\n          if (response.data.code === '1000') {\n            this.Message.success(response.data.message);\n          } else {\n            this.Message.error(response.data.message);\n          }\n          return response;\n        })\n        .catch(response => {\n          return response;\n        });\n    },\n    // 场景详情\n    sceneDetail(id, model) {\n      if (model === 'edit') {\n        this.dialogVisibleType = 2;\n      } else if (model === 'copy') {\n        this.dialogVisibleType = 3;\n      }\n      this.sceneId = id;\n      this.dialogVisible = true;\n    },\n    // 获取场景列表\n    getSceneList(type) {\n      if (type === 'search') {\n        this.pageNum = 1;\n      }\n      let config = {\n        headers: {\n          'Content-Type': 'application/json;charset=UTF-8'\n        }\n      };\n      let url = String.format('{0}/etlScene/list', this.GLOBAL.ETL_URL);\n      this.searchForm['pageNum'] = this.pageNum;\n\n      this.axios\n        .post(url, this.searchForm, config)\n        .then(response => {\n          this.total = response.data.data.total;\n          this.tableData = response.data.data.apiEtlSceneList;\n          return response;\n        })\n        .catch(response => {\n          return response;\n        });\n    },\n    // 删除场景\n    deleteScene(id) {\n      this.$confirm(\n        String.format('此操作将永久删除该场景(id:{0}), 是否继续?', id),\n        '提示',\n        {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }\n      ).then(() => {\n        let config = {\n          headers: {\n            'Content-Type': 'application/json;charset=UTF-8'\n          }\n        };\n        let url = String.format('{0}/etlScene/delete', this.GLOBAL.ETL_URL);\n        let param = { id: id };\n        this.axios\n          .post(url, param, config)\n          .then(response => {\n            if (response.data.code === '1000') {\n              this.Message.success(response.data.message);\n              this.getSceneList('search');\n            } else {\n              this.Message.error(response.data.message);\n            }\n            return response;\n          })\n          .catch(response => {\n            return response;\n          });\n      });\n    },\n    // 点击新增按钮\n    clickAddBtn() {\n      this.dialogVisibleType = 1;\n      this.dialogVisible = true;\n    }\n  },\n  beforeMount() {\n    this.getSceneList();\n  }\n};\n</script>\n\n<style scoped>\n.el-table >>> .warning-row {\n  background: oldlace;\n}\n\n.el-table >>> .success-row {\n  background: #f0f9eb;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/rootPageTemplate/ETLSceneList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"margin-top\":\"10px\"},attrs:{\"shadow\":\"always\",\"element-loading-text\":\"执行中,上报后会等待10秒,请稍等～～～～～\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0.8)\"}},[_c('el-form',{attrs:{\"inline\":true,\"model\":_vm.searchForm,\"size\":\"mini\"}},[_c('el-form-item',{attrs:{\"label\":\"场景id\"}},[_c('el-input',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"输入场景id\",\"clearable\":\"\"},model:{value:(_vm.searchForm.id),callback:function ($$v) {_vm.$set(_vm.searchForm, \"id\", $$v)},expression:\"searchForm.id\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"场景名称\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入场景名称\",\"clearable\":\"\"},model:{value:(_vm.searchForm.sceneName),callback:function ($$v) {_vm.$set(_vm.searchForm, \"sceneName\", $$v)},expression:\"searchForm.sceneName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"场景类型\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"请选择\",\"clearable\":\"\"},model:{value:(_vm.searchForm.sceneType),callback:function ($$v) {_vm.$set(_vm.searchForm, \"sceneType\", $$v)},expression:\"searchForm.sceneType\"}},_vm._l((_vm.sceneTypeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上报地址\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入上报地址\",\"clearable\":\"\"},model:{value:(_vm.searchForm.url),callback:function ($$v) {_vm.$set(_vm.searchForm, \"url\", $$v)},expression:\"searchForm.url\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"主版本\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入主版本\",\"clearable\":\"\"},model:{value:(_vm.searchForm.version),callback:function ($$v) {_vm.$set(_vm.searchForm, \"version\", $$v)},expression:\"searchForm.version\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"子版本\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入子版本\",\"clearable\":\"\"},model:{value:(_vm.searchForm.subVersion),callback:function ($$v) {_vm.$set(_vm.searchForm, \"subVersion\", $$v)},expression:\"searchForm.subVersion\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"创建时间\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"360px\"},attrs:{\"type\":\"datetimerange\",\"align\":\"right\",\"start-placeholder\":\"起始时间\",\"end-placeholder\":\"截止时间\",\"default-time\":['00:00:00', '23:59:59'],\"value-format\":\"yyyy-MM-dd HH:mm:ss\"},model:{value:(_vm.searchForm.addTime),callback:function ($$v) {_vm.$set(_vm.searchForm, \"addTime\", $$v)},expression:\"searchForm.addTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"更新时间\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"360px\"},attrs:{\"type\":\"datetimerange\",\"align\":\"right\",\"start-placeholder\":\"起始时间\",\"end-placeholder\":\"截止时间\",\"default-time\":['00:00:00', '23:59:59'],\"value-format\":\"yyyy-MM-dd HH:mm:ss\"},model:{value:(_vm.searchForm.updateTime),callback:function ($$v) {_vm.$set(_vm.searchForm, \"updateTime\", $$v)},expression:\"searchForm.updateTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"float\":\"right\",\"margin-right\":\"60px\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.getSceneList('search')}}},[_vm._v(\"查 询\\n        \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.clickAddBtn}},[_vm._v(\"新 增\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){_vm.batchExecuteDialog = true}}},[_vm._v(\"批量执行\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.reSet}},[_vm._v(\"重 置\")])],1)],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"size\":\"mini\",\"align\":\"center\"}},[_c('el-table-column',{attrs:{\"show-overflow-tooltip\":\"\",\"prop\":\"id\",\"label\":\"场景id\",\"width\":\"100\",\"align\":\"center\",\"fixed\":\"left\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":\"\",\"prop\":\"sceneName\",\"label\":\"场景名称\",\"width\":\"250\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":\"\",\"prop\":\"sceneType\",\"label\":\"场景类型\",\"align\":\"center\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.tableData[scope.$index].sceneType === 1)?_c('span',[_vm._v(\"事件\")]):(_vm.tableData[scope.$index].sceneType === 2)?_c('span',[_vm._v(\"用户属性\")]):_c('span',[_vm._v(\"未知\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"show-overflow-tooltip\":\"\",\"prop\":\"idList\",\"label\":\"用例集\",\"width\":\"200\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"show-overflow-tooltip\":\"\",\"prop\":\"url\",\"label\":\"上报地址\",\"width\":\"250\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"show-overflow-tooltip\":\"\",\"prop\":\"valueMap\",\"label\":\"动态参数\",\"width\":\"250\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"show-overflow-tooltip\":\"\",\"prop\":\"version\",\"label\":\"主版本\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"show-overflow-tooltip\":\"\",\"prop\":\"subVersion\",\"label\":\"子版本\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"show-overflow-tooltip\":\"\",\"prop\":\"trinoMap\",\"label\":\"trino配置\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"show-overflow-tooltip\":\"\",\"prop\":\"projectId\",\"label\":\"项目Id\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"show-overflow-tooltip\":\"\",\"prop\":\"time\",\"label\":\"上报日期\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"show-overflow-tooltip\":\"\",\"prop\":\"waitTime\",\"label\":\"等待时长\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"show-overflow-tooltip\":\"\",\"prop\":\"customCheck\",\"label\":\"自定义校验\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.tableData[scope.$index].customCheck === 1)?_c('span',[_vm._v(\"开启\")]):(_vm.tableData[scope.$index].customCheck === 2)?_c('span',[_vm._v(\"关闭\")]):_c('span',[_vm._v(\"未知\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"show-overflow-tooltip\":\"\",\"prop\":\"sqlList\",\"label\":\"自定义校验SQL\",\"width\":\"250\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"show-overflow-tooltip\":\"\",\"prop\":\"expectValueList\",\"label\":\"自定义校验期望值\",\"width\":\"250\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"show-overflow-tooltip\":\"\",\"prop\":\"addTime\",\"label\":\"创建时间\",\"width\":\"250\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"show-overflow-tooltip\":\"\",\"prop\":\"addTime\",\"label\":\"更新时间\",\"width\":\"250\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"show-overflow-tooltip\":\"\",\"label\":\"操作\",\"width\":\"250\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.executeScene(_vm.tableData[scope.$index])}}},[_vm._v(\"执行\\n          \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.sceneDetail(_vm.tableData[scope.$index].id, 'copy')}}},[_vm._v(\"复制\\n          \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.sceneDetail(_vm.tableData[scope.$index].id, 'edit')}}},[_vm._v(\"编辑\\n          \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.deleteScene(_vm.tableData[scope.$index].id)}}},[_vm._v(\"删除\\n          \")])]}}])})],1),_vm._v(\" \"),_c('el-pagination',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"current-page\":_vm.pageNum,\"page-size\":_vm.pageSize,\"layout\":\"total,slot, prev, pager, next, jumper\",\"total\":_vm.total,\"size\":\"mini\"},on:{\"current-change\":function($event){return _vm.getSceneList()},\"update:currentPage\":function($event){_vm.pageNum=$event},\"update:current-page\":function($event){_vm.pageNum=$event}}},[_c('span',[_vm._v(_vm._s(_vm.pageSize)+\"条/页\")])])],1),_vm._v(\" \"),(_vm.dialogVisible)?_c('etl-scene-dialog',{attrs:{\"visible\":_vm.dialogVisible,\"scene-id\":_vm.sceneId,\"type\":_vm.dialogVisibleType},on:{\"listenToChildEvent\":_vm.callbackFunc}}):_vm._e(),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"批量执行场景\",\"visible\":_vm.batchExecuteDialog,\"width\":\"60%\"},on:{\"update:visible\":function($event){_vm.batchExecuteDialog=$event},\"close\":_vm.closeBatchExecuteDialog}},[_c('div',[_c('el-card',{staticClass:\"box-card\"},[_c('el-select',{staticStyle:{\"margin-left\":\"20px\",\"width\":\"600px\"},attrs:{\"multiple\":\"\",\"placeholder\":\"请选择\",\"clearable\":\"\"},model:{value:(_vm.sceneIdList),callback:function ($$v) {_vm.sceneIdList=$$v},expression:\"sceneIdList\"}},_vm._l((_vm.sceneList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.sceneName,\"value\":item.id}})}),1)],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"}},[_vm._v(\"执 行 \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.closeBatchExecuteDialog}},[_vm._v(\"取 消\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-22bb972e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/rootPageTemplate/ETLSceneList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-22bb972e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ETLSceneList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ETLSceneList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-22bb972e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ETLSceneList.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-22bb972e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/rootPageTemplate/ETLSceneList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}