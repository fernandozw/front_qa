webpackJsonp([16],{GWx5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={name:"ETLResultDetailDialog",props:{resultId:{type:Number,default:null},visible:{type:Boolean,default:!0}},data:function(){return{caseTypeOptions:[{label:"事件",value:1},{label:"用户属性",value:2}],verifyStatusOptions:[{label:"成功",value:1},{label:"未找到数据",value:2},{label:"未校验",value:3},{label:"失败",value:4}],dialogVisible:!1,resultDetail:{}}},methods:{close:function(){this.$emit("listenToChildEvent",!1)},detail:function(){var e=this,t=String.format("{0}/etlResultDetail/detail?id={1}",this.GLOBAL.ETL_URL,this.resultId);this.axios.get(t).then(function(t){return e.resultDetail=t.data.data,t}).catch(function(e){return e})}},created:function(){this.dialogVisible=this.visible,this.detail()}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"case-dialog",attrs:{title:"结果详情(结果id:"+e.resultId+"<--\x3e用例id:"+e.resultDetail.caseId+")",visible:e.dialogVisible,width:"80%"},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[a("div",[a("el-card",{staticClass:"box-card"},[a("el-form",{attrs:{inline:!0,model:e.resultDetail,size:"mini"}},[a("el-row",{attrs:{gutter:20}},[a("el-form-item",{attrs:{label:"批次号",prop:"batchNo"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"",clearable:""},model:{value:e.resultDetail.batchNo,callback:function(t){e.$set(e.resultDetail,"batchNo",t)},expression:"resultDetail.batchNo"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用例名称",prop:"caseName"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"",clearable:""},model:{value:e.resultDetail.caseName,callback:function(t){e.$set(e.resultDetail,"caseName",t)},expression:"resultDetail.caseName"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-form-item",{attrs:{label:"校验状态",prop:"verifyStatus"}},[a("el-col",{attrs:{span:12}},[a("el-select",{attrs:{filterable:"",placeholder:"",clearable:"",disabled:""},model:{value:e.resultDetail.verifyStatus,callback:function(t){e.$set(e.resultDetail,"verifyStatus",t)},expression:"resultDetail.verifyStatus"}},e._l(e.verifyStatusOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用例类型",prop:"caseType"}},[a("el-col",{attrs:{span:12}},[a("el-select",{attrs:{filterable:"",placeholder:"",clearable:"",disabled:""},model:{value:e.resultDetail.caseType,callback:function(t){e.$set(e.resultDetail,"caseType",t)},expression:"resultDetail.caseType"}},e._l(e.caseTypeOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-form-item",{staticStyle:{float:"left"},attrs:{label:"上报参数",prop:"param"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:8},placeholder:"",clearable:""},model:{value:e.resultDetail.param,callback:function(t){e.$set(e.resultDetail,"param",t)},expression:"resultDetail.param"}})],1)],1),e._v(" "),a("el-form-item",{staticStyle:{float:"left"},attrs:{label:"入库参数",prop:"result"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:8},placeholder:"",clearable:""},model:{value:e.resultDetail.result,callback:function(t){e.$set(e.resultDetail,"result",t)},expression:"resultDetail.result"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-form-item",{staticStyle:{float:"left"},attrs:{label:"上报地址",prop:"url"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:8},placeholder:"",clearable:""},model:{value:e.resultDetail.url,callback:function(t){e.$set(e.resultDetail,"url",t)},expression:"resultDetail.url"}})],1)],1),e._v(" "),a("el-form-item",{staticStyle:{float:"left"},attrs:{label:"失败原因",prop:"failReason"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:8},placeholder:"",clearable:""},model:{value:e.resultDetail.failReason,callback:function(t){e.$set(e.resultDetail,"failReason",t)},expression:"resultDetail.failReason"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-form-item",{staticStyle:{float:"left"},attrs:{label:"主版本",prop:"version"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"",clearable:""},model:{value:e.resultDetail.version,callback:function(t){e.$set(e.resultDetail,"version",t)},expression:"resultDetail.version"}})],1)],1),e._v(" "),a("el-form-item",{staticStyle:{float:"left"},attrs:{label:"子版本",prop:"subVersion"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"",clearable:""},model:{value:e.resultDetail.subVersion,callback:function(t){e.$set(e.resultDetail,"subVersion",t)},expression:"resultDetail.subVersion"}})],1)],1)],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.close}},[e._v("关 闭")])],1)])},staticRenderFns:[]};var s={name:"ETLResultDetailList",components:{etlResultDetailDialog:a("VU/8")(l,r,!1,function(e){a("dZ/r")},"data-v-19547f18",null).exports},data:function(){return{caseTypeOptions:[{label:"事件",value:1},{label:"用户属性",value:2}],verifyStatusOptions:[{label:"成功",value:1},{label:"未找到数据",value:2},{label:"未校验",value:3},{label:"失败",value:4}],pageSize:10,total:0,pageNum:1,resultId:null,dialogVisibleType:1,dialogVisible:!1,searchForm:{id:"",caseId:"",batchNo:"",caseName:"",url:"",verifyStatus:null,version:"",subVersion:"",sceneName:"",addTime:"",pageNum:1,executor:""},tableData:[]}},methods:{tableRowClassName:function(e){e.row;return e.rowIndex%2==0?"warning-row":"success-row"},callbackFunc:function(e){this.dialogVisible=!1,e&&this.getDetailList("search")},reSet:function(){this.pageNum=1,this.searchForm={id:"",caseId:"",batchNo:"",caseName:"",url:"",verifyStatus:null,version:"",subVersion:"",sceneName:"",addTime:"",pageNum:1,executor:""},this.getDetailList("search")},resultDetail:function(e){this.resultId=e,this.dialogVisible=!0},getDetailList:function(e){var t=this;"search"===e&&(this.pageNum=1);var a=String.format("{0}/etlResultDetail/list",this.GLOBAL.ETL_URL);this.searchForm.pageNum=this.pageNum,this.axios.post(a,this.searchForm,{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(e){return t.total=e.data.data.total,t.tableData=e.data.data.apiEtlResultDetailList,e}).catch(function(e){return e})}},beforeMount:function(){this.getDetailList()}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticStyle:{"margin-top":"10px"},attrs:{shadow:"always"}},[a("el-form",{attrs:{inline:!0,model:e.searchForm,size:"mini"}},[a("el-form-item",{attrs:{label:"结果id"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"输入结果id",clearable:""},model:{value:e.searchForm.id,callback:function(t){e.$set(e.searchForm,"id",t)},expression:"searchForm.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用例id"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"输入用例id",clearable:""},model:{value:e.searchForm.caseId,callback:function(t){e.$set(e.searchForm,"caseId",t)},expression:"searchForm.caseId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用例名称"}},[a("el-input",{attrs:{placeholder:"输入用例名称",clearable:""},model:{value:e.searchForm.caseName,callback:function(t){e.$set(e.searchForm,"caseName",t)},expression:"searchForm.caseName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"批次号"}},[a("el-input",{attrs:{placeholder:"输入批次号",clearable:""},model:{value:e.searchForm.batchNo,callback:function(t){e.$set(e.searchForm,"batchNo",t)},expression:"searchForm.batchNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用例类型"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",clearable:""},model:{value:e.searchForm.caseType,callback:function(t){e.$set(e.searchForm,"caseType",t)},expression:"searchForm.caseType"}},e._l(e.caseTypeOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"上报地址"}},[a("el-input",{attrs:{placeholder:"输入上报地址",clearable:""},model:{value:e.searchForm.url,callback:function(t){e.$set(e.searchForm,"url",t)},expression:"searchForm.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"校验状态"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",clearable:""},model:{value:e.searchForm.verifyStatus,callback:function(t){e.$set(e.searchForm,"verifyStatus",t)},expression:"searchForm.verifyStatus"}},e._l(e.verifyStatusOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"执行人"}},[a("el-input",{attrs:{placeholder:"输入执行人",clearable:""},model:{value:e.searchForm.executor,callback:function(t){e.$set(e.searchForm,"executor",t)},expression:"searchForm.executor"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"360px"},attrs:{type:"datetimerange",align:"right","start-placeholder":"起始时间","end-placeholder":"截止时间","default-time":["00:00:00","23:59:59"],"value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.searchForm.addTime,callback:function(t){e.$set(e.searchForm,"addTime",t)},expression:"searchForm.addTime"}})],1),e._v(" "),a("el-form-item",{staticStyle:{float:"right","margin-right":"60px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getDetailList("search")}}},[e._v("查 询\n        ")]),e._v(" "),a("el-button",{attrs:{type:"info"},on:{click:e.reSet}},[e._v("重 置")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",size:"mini","row-class-name":e.tableRowClassName,align:"center"}},[a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"batchNo",label:"批次号",width:"180",align:"center",fixed:"left"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"resultId",label:"结果id",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"caseId",label:"用例id",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"caseName",label:"用例名称",width:"250",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",prop:"param",label:"校验状态",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===e.tableData[t.$index].verifyStatus?a("span",[e._v("成功")]):2===e.tableData[t.$index].verifyStatus?a("span",[e._v("未找到数据")]):3===e.tableData[t.$index].verifyStatus?a("span",[e._v("未校验")]):4===e.tableData[t.$index].verifyStatus?a("span",[e._v("失败")]):a("span",[e._v("未知")])]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"failReason",label:"失败原因",width:"250",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"caseType",label:"用例类型",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===e.tableData[t.$index].caseType?a("span",[e._v("事件")]):2===e.tableData[t.$index].caseType?a("span",[e._v("用户属性")]):a("span",[e._v("未知")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",prop:"param",label:"上报参数",width:"250"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",prop:"result",label:"入库参数",width:"250"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",prop:"url",label:"上报地址",width:"250"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",prop:"version",label:"主版本",width:"250"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",prop:"subVersion",label:"子版本",width:"250"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",prop:"executor",label:"执行人",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",prop:"addTime",label:"创建时间",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:"操作",width:"150",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.resultDetail(e.tableData[t.$index].resultId)}}},[e._v("查看详情")])]}}])})],1),e._v(" "),a("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"current-page":e.pageNum,"page-size":e.pageSize,layout:"total,slot, prev, pager, next, jumper",total:e.total,size:"mini"},on:{"current-change":function(t){return e.getDetailList()},"update:currentPage":function(t){e.pageNum=t},"update:current-page":function(t){e.pageNum=t}}},[a("span",[e._v(e._s(e.pageSize)+"条/页")])])],1),e._v(" "),e.dialogVisible?a("etl-result-detail-dialog",{attrs:{visible:e.dialogVisible,"result-id":e.resultId,type:e.dialogVisibleType},on:{listenToChildEvent:e.callbackFunc}}):e._e()],1)},staticRenderFns:[]};var o=a("VU/8")(s,i,!1,function(e){a("KOgW")},"data-v-71c6ad58",null);t.default=o.exports},KOgW:function(e,t){},"dZ/r":function(e,t){}});
//# sourceMappingURL=16.c46defbfcfcbd61a2834.js.map