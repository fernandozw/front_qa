webpackJsonp([19],{G2rR:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("mvHQ"),i=a.n(s),n={name:"WebUiConfig",data:function(){return{clientIp:"",browserValue:"1",status:!0,languageStatus:!0,languageValue:"1",debugStatus:!1,windowSize:"",messageConfig:{isUse:"",webHookUrl:"",trigger:""},triggerOptions:[{value:"0",label:"执行完毕"},{value:"1",label:"执行失败"}],isUseOptions:[{value:"0",label:"关闭"},{value:"1",label:"开启"}],rules:{isUse:[{required:!0,message:"请选择是否开启",trigger:"change"}],webHookUrl:[{required:!0,message:"请输入webHookUrl",trigger:"change"}],trigger:[{required:!0,message:"请选择触发条件",trigger:"change"}]}}},methods:{getWindowSize:function(){var e=this,t=String.format("{0}/config/getWindowSize",this.GLOBAL.WEBUI_URL);this.axios.get(t).then(function(t){return e.windowSize=t.data.data.windowSize,t}).catch(function(e){return e})},updateWindowSize:function(){var e=this,t=String.format("{0}/config/updateWindowSize",this.GLOBAL.WEBUI_URL);this.axios.post(t,i()({windowSize:this.windowSize}),{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(t){return e.getWindowSize(),t}).catch(function(e){return e})},getBrowserValue:function(){var e=this,t=String.format("{0}/config/getConfig",this.GLOBAL.WEBUI_URL);this.axios.get(t).then(function(t){return e.browserValue=t.data.data.headless,e.status="1"===e.browserValue,t}).catch(function(e){return e})},getDebugValue:function(){var e=this,t=String.format("{0}/debugCase/getStatus",this.GLOBAL.WEBUI_URL);this.axios.get(t).then(function(t){return e.debugStatus=t.data.data.status,t}).catch(function(e){return e})},updateDebugHub:function(){var e=this,t=String.format("{0}/debugCase/updateDebugHub",this.GLOBAL.WEBUI_URL);this.axios.post(t,i()({status:this.debugStatus?"1":"0"}),{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(t){return e.getDebugValue(),t}).catch(function(e){return e})},getLanguageValue:function(){var e=this,t=String.format("{0}/config/getLanguage",this.GLOBAL.WEBUI_URL);this.axios.get(t).then(function(t){return e.languageValue=t.data.data.language,e.languageStatus="1"===e.languageValue,t}).catch(function(e){return e})},getMessageConfig:function(){var e=this,t=String.format("{0}/config/getMessageConfig",this.GLOBAL.WEBUI_URL);this.axios.get(t).then(function(t){return e.messageConfig=t.data.data.messageConfig,t}).catch(function(e){return e})},updateMessageConfig:function(){var e=this;this.$refs.messageConfig.validate(function(t){if(t){var a=String.format("{0}/config/updateMessageConfig",e.GLOBAL.WEBUI_URL);e.axios.post(a,i()(e.messageConfig),{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(t){return"1000"===t.data.code?e.$message({type:"success",message:t.data.msg}):e.$message({type:"error",message:t.data.msg}),e.getMessageConfig(),t}).catch(function(e){return e})}else e.$message({type:"error",message:"请填写必填项!"})})},updateBrowserValue:function(){var e=this;this.browserValue=this.status?"1":"0";var t=String.format("{0}/config/updateConfig",this.GLOBAL.WEBUI_URL);this.axios.post(t,i()({headless:this.browserValue}),{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(t){return e.getBrowserValue(),t}).catch(function(e){return e})},updateLanguageValue:function(){var e=this;this.languageValue=this.languageStatus?"1":"0";var t=String.format("{0}/config/updateLanguage",this.GLOBAL.WEBUI_URL);this.axios.post(t,i()({language:this.languageValue}),{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(t){return e.getLanguageValue(),t}).catch(function(e){return e})}},beforeMount:function(){this.getBrowserValue(),this.getLanguageValue(),this.getDebugValue(),this.getWindowSize(),this.getMessageConfig()}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("浏览器配置")])]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-switch",{staticStyle:{display:"block"},attrs:{"active-color":"#13ce66","inactive-color":"gray","active-text":"无头模式","inactive-text":"界面模式"},on:{change:e.updateBrowserValue},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}})],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-switch",{staticStyle:{display:"block"},attrs:{"active-color":"#13ce66","inactive-color":"gray","active-text":"中文","inactive-text":"英文"},on:{change:e.updateLanguageValue},model:{value:e.languageStatus,callback:function(t){e.languageStatus=t},expression:"languageStatus"}})],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",[a("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"例如:1920,900",size:"mini"},on:{change:e.updateWindowSize},model:{value:e.windowSize,callback:function(t){e.windowSize=t},expression:"windowSize"}},[a("template",{slot:"prepend"},[e._v("浏览器尺寸")])],2)],1)])],1)],1),e._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("调试模式")])]),e._v(" "),a("el-switch",{staticStyle:{display:"block"},attrs:{"active-color":"#13ce66","inactive-color":"gray","active-text":"开启","inactive-text":"关闭"},on:{change:e.updateDebugHub},model:{value:e.debugStatus,callback:function(t){e.debugStatus=t},expression:"debugStatus"}})],1),e._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("企微消息推送")]),e._v(" "),a("el-tooltip",{attrs:{content:"可配置多个企微机器人的webHookUrl,多个webHookUrl以英文','分割",placement:"top"},on:{click:function(e){e.stopPropagation(),e.preventDefault()}}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-form",{ref:"messageConfig",staticClass:"demo-form-inline",staticStyle:{"margin-left":"10px"},attrs:{inline:!0,model:e.messageConfig,rules:e.rules}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"是否开启",prop:"isUse"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请选择是否开启",size:"mini"},on:{change:e.updateMessageConfig},model:{value:e.messageConfig.isUse,callback:function(t){e.$set(e.messageConfig,"isUse",t)},expression:"messageConfig.isUse"}},e._l(e.isUseOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"webHookUrl",prop:"webHookUrl"}},[a("el-input",{staticStyle:{width:"430px"},attrs:{type:"textarea",placeholder:"https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=4687dce0-02e5-4238-8404-aecb71beb083,多个地址以英文','分割",size:"mini",autosize:{minRows:2,maxRows:4},clearable:""},on:{change:e.updateMessageConfig},model:{value:e.messageConfig.webHookUrl,callback:function(t){e.$set(e.messageConfig,"webHookUrl",t)},expression:"messageConfig.webHookUrl"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"触发条件",prop:"trigger"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请选择触发条件",size:"mini"},on:{change:e.updateMessageConfig},model:{value:e.messageConfig.trigger,callback:function(t){e.$set(e.messageConfig,"trigger",t)},expression:"messageConfig.trigger"}},e._l(e.triggerOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var r=a("VU/8")(n,o,!1,function(e){a("cdlD")},"data-v-12b3f5f9",null);t.default=r.exports},cdlD:function(e,t){}});
//# sourceMappingURL=19.a22b9dd41f475de904d3.js.map