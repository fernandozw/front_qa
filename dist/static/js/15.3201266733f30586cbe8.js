webpackJsonp([15],{"7Dq5":function(e,t){},Dvpw:function(e,t){},"pk/s":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"ETLResultDialog",props:{resultId:{type:Number,default:null},visible:{type:Boolean,default:!0}},data:function(){return{statusOptions:[{label:"成功",value:1},{label:"失败",value:2},{label:"未校验",value:3}],dialogVisible:!1,resultDetail:{}}},methods:{close:function(){this.$emit("listenToChildEvent",!1)},detail:function(){var e=this,t=String.format("{0}/etlResult/detail?id={1}",this.GLOBAL.ETL_URL,this.resultId);this.axios.get(t).then(function(t){return e.resultDetail=t.data.data,t}).catch(function(e){return e})}},created:function(){this.dialogVisible=this.visible,this.detail()}},s={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-dialog",{staticClass:"case-dialog",attrs:{title:"总览详情(总览id:"+e.resultId+")",visible:e.dialogVisible,width:"75%"},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[l("div",[l("el-card",{staticClass:"box-card"},[l("el-form",{attrs:{inline:!0,model:e.resultDetail,size:"mini"}},[l("el-row",{attrs:{gutter:20}},[l("el-form-item",{attrs:{label:"批次号",prop:"batchNo"}},[l("el-col",{attrs:{span:12}},[l("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"",clearable:""},model:{value:e.resultDetail.batchNo,callback:function(t){e.$set(e.resultDetail,"batchNo",t)},expression:"resultDetail.batchNo"}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"用例id集",prop:"caseIdList"}},[l("el-col",{attrs:{span:12}},[l("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"",clearable:""},model:{value:e.resultDetail.caseIdList,callback:function(t){e.$set(e.resultDetail,"caseIdList",t)},expression:"resultDetail.caseIdList"}})],1)],1)],1),e._v(" "),l("el-row",{attrs:{gutter:20}},[l("el-form-item",{attrs:{label:"上报数量",prop:"reportNum"}},[l("el-col",{attrs:{span:12}},[l("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"",clearable:""},model:{value:e.resultDetail.reportNum,callback:function(t){e.$set(e.resultDetail,"reportNum",t)},expression:"resultDetail.reportNum"}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"入库数量",prop:"realityNum"}},[l("el-col",{attrs:{span:12}},[l("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"",clearable:""},model:{value:e.resultDetail.realityNum,callback:function(t){e.$set(e.resultDetail,"realityNum",t)},expression:"resultDetail.realityNum"}})],1)],1)],1),e._v(" "),l("el-row",{attrs:{gutter:20}},[l("el-form-item",{staticStyle:{float:"left"},attrs:{label:"上报地址",prop:"url"}},[l("el-col",{attrs:{span:12}},[l("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:8},placeholder:"",clearable:""},model:{value:e.resultDetail.url,callback:function(t){e.$set(e.resultDetail,"url",t)},expression:"resultDetail.url"}})],1)],1),e._v(" "),l("el-form-item",{staticStyle:{float:"left"},attrs:{label:"失败原因",prop:"failReason"}},[l("el-col",{attrs:{span:12}},[l("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:8},placeholder:"",clearable:""},model:{value:e.resultDetail.failReason,callback:function(t){e.$set(e.resultDetail,"failReason",t)},expression:"resultDetail.failReason"}})],1)],1)],1),e._v(" "),l("el-row",{attrs:{gutter:20}},[l("el-form-item",{staticStyle:{float:"left"},attrs:{label:"主版本",prop:"version"}},[l("el-col",{attrs:{span:12}},[l("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"",clearable:""},model:{value:e.resultDetail.version,callback:function(t){e.$set(e.resultDetail,"version",t)},expression:"resultDetail.version"}})],1)],1),e._v(" "),l("el-form-item",{staticStyle:{float:"left"},attrs:{label:"子版本",prop:"subVersion"}},[l("el-col",{attrs:{span:12}},[l("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"",clearable:""},model:{value:e.resultDetail.subVersion,callback:function(t){e.$set(e.resultDetail,"subVersion",t)},expression:"resultDetail.subVersion"}})],1)],1)],1),e._v(" "),l("el-row",{attrs:{gutter:20}},[l("el-form-item",{attrs:{label:"校验状态",prop:"status"}},[l("el-col",{attrs:{span:12}},[l("el-select",{attrs:{filterable:"",placeholder:"",clearable:"",disabled:""},model:{value:e.resultDetail.status,callback:function(t){e.$set(e.resultDetail,"status",t)},expression:"resultDetail.status"}},e._l(e.statusOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1)],1)],1)],1),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{size:"mini"},on:{click:e.close}},[e._v("关 闭")])],1)])},staticRenderFns:[]};var r={name:"ETLResultList",components:{etlResultDialog:l("VU/8")(a,s,!1,function(e){l("Dvpw")},"data-v-78044d27",null).exports},data:function(){return{statusOptions:[{label:"成功",value:1},{label:"失败",value:2},{label:"未校验",value:3}],pageSize:10,total:0,pageNum:1,resultId:null,dialogVisibleType:1,dialogVisible:!1,searchForm:{id:"",batchNo:"",caseIdList:"",url:"",status:null,version:"",subVersion:"",addTime:"",pageNum:1,executor:""},tableData:[]}},methods:{tableRowClassName:function(e){e.row;return e.rowIndex%2==0?"warning-row":"success-row"},callbackFunc:function(e){this.dialogVisible=!1,e&&this.getDetailList("search")},reSet:function(){this.searchForm={id:"",batchNo:"",caseIdList:"",url:"",status:null,version:"",subVersion:"",addTime:"",pageNum:1,executor:""},this.getResultList("search")},resultDetail:function(e){this.resultId=e,this.dialogVisible=!0},getResultList:function(e){var t=this;"search"===e&&(this.pageNum=1);var l=String.format("{0}/etlResult/list",this.GLOBAL.ETL_URL);this.searchForm.pageNum=this.pageNum,this.axios.post(l,this.searchForm,{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(e){return t.total=e.data.data.total,t.tableData=e.data.data.apiEtlResultList,e}).catch(function(e){return e})}},beforeMount:function(){this.getResultList()}},o={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-card",{staticStyle:{"margin-top":"10px"},attrs:{shadow:"always"}},[l("el-form",{attrs:{inline:!0,model:e.searchForm,size:"mini"}},[l("el-form-item",{attrs:{label:"总览id"}},[l("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"总览id",clearable:""},model:{value:e.searchForm.id,callback:function(t){e.$set(e.searchForm,"id",t)},expression:"searchForm.id"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"批次号"}},[l("el-input",{attrs:{placeholder:"输入批次号",clearable:""},model:{value:e.searchForm.batchNo,callback:function(t){e.$set(e.searchForm,"batchNo",t)},expression:"searchForm.batchNo"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"用例id集"}},[l("el-input",{attrs:{placeholder:"输入用例id集,','分割",clearable:""},model:{value:e.searchForm.caseIdList,callback:function(t){e.$set(e.searchForm,"caseIdList",t)},expression:"searchForm.caseIdList"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"上报地址"}},[l("el-input",{attrs:{placeholder:"输入上报地址",clearable:""},model:{value:e.searchForm.url,callback:function(t){e.$set(e.searchForm,"url",t)},expression:"searchForm.url"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"主版本"}},[l("el-input",{attrs:{placeholder:"输入主版本",clearable:""},model:{value:e.searchForm.version,callback:function(t){e.$set(e.searchForm,"version",t)},expression:"searchForm.version"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"子版本"}},[l("el-input",{attrs:{placeholder:"输入子版本",clearable:""},model:{value:e.searchForm.subVersion,callback:function(t){e.$set(e.searchForm,"subVersion",t)},expression:"searchForm.subVersion"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"校验状态"}},[l("el-select",{attrs:{filterable:"",placeholder:"请选择",clearable:""},model:{value:e.searchForm.status,callback:function(t){e.$set(e.searchForm,"status",t)},expression:"searchForm.status"}},e._l(e.statusOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"执行人"}},[l("el-input",{attrs:{placeholder:"输入执行人",clearable:""},model:{value:e.searchForm.executor,callback:function(t){e.$set(e.searchForm,"executor",t)},expression:"searchForm.executor"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"创建时间"}},[l("el-date-picker",{staticStyle:{width:"360px"},attrs:{type:"datetimerange",align:"right","start-placeholder":"起始时间","end-placeholder":"截止时间","default-time":["00:00:00","23:59:59"],"value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.searchForm.addTime,callback:function(t){e.$set(e.searchForm,"addTime",t)},expression:"searchForm.addTime"}})],1),e._v(" "),l("el-form-item",{staticStyle:{float:"right","margin-right":"60px"}},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getResultList("search")}}},[e._v("查 询\n        ")]),e._v(" "),l("el-button",{attrs:{type:"info"},on:{click:e.reSet}},[e._v("重 置")])],1)],1),e._v(" "),l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",size:"mini","row-class-name":e.tableRowClassName,align:"center"}},[l("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"batchNo",label:"批次号",width:"180",align:"center",fixed:"left"}}),e._v(" "),l("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"id",label:"结果总览id",width:"120",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"caseIdList",label:"用例id集",width:"100",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"reportNum",label:"上报数量",width:"120",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"realityNum",label:"入库数量",width:"120",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",prop:"realityNum",label:"校验状态",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===e.tableData[t.$index].status?l("span",[e._v("成功")]):2===e.tableData[t.$index].status?l("span",[e._v("失败")]):3===e.tableData[t.$index].status?l("span",[e._v("未校验")]):l("span",[e._v("未知")])]}}])}),e._v(" "),l("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"failReason",label:"失败原因",width:"250",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",prop:"url",label:"上报地址",width:"250"}}),e._v(" "),l("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",prop:"version",label:"主版本",width:"250"}}),e._v(" "),l("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",prop:"subVersion",label:"子版本",width:"250"}}),e._v(" "),l("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",prop:"executor",label:"执行人",width:"200"}}),e._v(" "),l("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",prop:"addTime",label:"创建时间",width:"200"}}),e._v(" "),l("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:"操作",width:"150",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(l){return e.resultDetail(e.tableData[t.$index].id)}}},[e._v("查看详情")])]}}])})],1),e._v(" "),l("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"current-page":e.pageNum,"page-size":e.pageSize,layout:"total,slot, prev, pager, next, jumper",total:e.total,size:"mini"},on:{"current-change":function(t){return e.getResultList()},"update:currentPage":function(t){e.pageNum=t},"update:current-page":function(t){e.pageNum=t}}},[l("span",[e._v(e._s(e.pageSize)+"条/页")])])],1),e._v(" "),e.dialogVisible?l("etl-result-dialog",{attrs:{visible:e.dialogVisible,"result-id":e.resultId,type:e.dialogVisibleType},on:{listenToChildEvent:e.callbackFunc}}):e._e()],1)},staticRenderFns:[]};var i=l("VU/8")(r,o,!1,function(e){l("7Dq5")},"data-v-99e12ab2",null);t.default=i.exports}});
//# sourceMappingURL=15.3201266733f30586cbe8.js.map